module.exports=[25417,a=>{a.v({email:"page-module-scss-module__yEglYa__email",form:"page-module-scss-module__yEglYa__form",login:"page-module-scss-module__yEglYa__login",message:"page-module-scss-module__yEglYa__message",name:"page-module-scss-module__yEglYa__name",password:"page-module-scss-module__yEglYa__password",submit:"page-module-scss-module__yEglYa__submit",text:"page-module-scss-module__yEglYa__text",title:"page-module-scss-module__yEglYa__title"})},67275,a=>{"use strict";var b=a.i(65532),c=a.i(18086),d=a.i(25417),e=a.i(24573);function f(){let[a,f,g]=(0,e.useLocalStorage)("token",{value:null}),[h,i]=(0,c.useState)([]);async function j(a){a.preventDefault();let b=new FormData(a.currentTarget),c=await fetch("https://ambilux.com/api/login",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(Object.fromEntries(b))}),d=await c.json();d?f(d):alert("Неверный логин или пароль")}return(0,c.useEffect)(()=>{a.value&&fetch("https://ambilux.com/api/messages",{headers:{Authorization:`Bearer ${a.value}`}}).then(a=>a.json()).then(a=>i(a))},[a]),(0,b.jsxs)("div",{className:d.default.wrapper,children:[!a.value&&(0,b.jsxs)("form",{suppressHydrationWarning:!0,className:d.default.form,onSubmit:j,children:[(0,b.jsx)("span",{className:d.default.title,children:"Вход"}),(0,b.jsx)("input",{name:"login",className:d.default.login,placeholder:"Логин"}),(0,b.jsx)("input",{name:"password",type:"password",className:d.default.password,placeholder:"Пароль"}),(0,b.jsx)("button",{type:"submit",className:d.default.submit,children:"Войти"})]}),a.value&&h.map(a=>(0,b.jsxs)("div",{suppressHydrationWarning:!0,className:d.default.message,children:[(0,b.jsx)("span",{className:d.default.name,children:a.name}),(0,b.jsx)("span",{className:d.default.email,children:a.email}),(0,b.jsx)("p",{className:d.default.text,children:a.text})]}))]})}a.s(["default",()=>f])}];

//# sourceMappingURL=Documents_Pets_ambilux_frontend_src_app_admin_417b340c._.js.map