{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/1/Documents/Pets/ambilux/frontend/node_modules/libbase64/lib/libbase64.js"],"sourcesContent":["'use strict';\n\nvar stream = require('stream');\nvar util = require('util');\nvar Transform = stream.Transform;\n\n// expose to the world\nmodule.exports = {\n    encode: encode,\n    decode: decode,\n    wrap: wrap,\n    Encoder: Encoder,\n    Decoder: Decoder\n};\n\n/**\n * Encodes a Buffer into a base64 encoded string\n *\n * @param {Buffer} buffer Buffer to convert\n * @returns {String} base64 encoded string\n */\nfunction encode(buffer) {\n    if (typeof buffer === 'string') {\n        buffer = new Buffer(buffer, 'utf-8');\n    }\n\n    return buffer.toString('base64');\n}\n\n/**\n * Decodes a base64 encoded string to a Buffer object\n *\n * @param {String} str base64 encoded string\n * @returns {Buffer} Decoded value\n */\nfunction decode(str) {\n    str = (str || '');\n    return new Buffer(str, 'base64');\n}\n\n/**\n * Adds soft line breaks to a base64 string\n *\n * @param {String} str base64 encoded string that might need line wrapping\n * @param {Number} [lineLength=76] Maximum allowed length for a line\n * @returns {String} Soft-wrapped base64 encoded string\n */\nfunction wrap(str, lineLength) {\n    str = (str || '').toString();\n    lineLength = lineLength || 76;\n\n    if (str.length <= lineLength) {\n        return str;\n    }\n\n    return str.replace(new RegExp('.{' + lineLength + '}', 'g'), '$&\\r\\n').trim();\n}\n\n/**\n * Creates a transform stream for encoding data to base64 encoding\n *\n * @constructor\n * @param {Object} options Stream options\n * @param {Number} [options.lineLength=76] Maximum lenght for lines, set to false to disable wrapping\n */\nfunction Encoder(options) {\n    // init Transform\n    this.options = options || {};\n\n    if (this.options.lineLength !== false) {\n        this.options.lineLength = this.options.lineLength || 76;\n    }\n\n    this._curLine = '';\n    this._remainingBytes = false;\n\n    this.inputBytes = 0;\n    this.outputBytes = 0;\n\n    Transform.call(this, this.options);\n}\nutil.inherits(Encoder, Transform);\n\nEncoder.prototype._transform = function(chunk, encoding, done) {\n    var b64, _self = this;\n\n    if (encoding !== 'buffer') {\n        chunk = new Buffer(chunk, encoding);\n    }\n\n    if (!chunk || !chunk.length) {\n        return done();\n    }\n\n    this.inputBytes += chunk.length;\n\n    if (this._remainingBytes && this._remainingBytes.length) {\n        chunk = Buffer.concat([this._remainingBytes, chunk]);\n        this._remainingBytes = false;\n    }\n\n    if (chunk.length % 3) {\n        this._remainingBytes = chunk.slice(chunk.length - chunk.length % 3);\n        chunk = chunk.slice(0, chunk.length - chunk.length % 3);\n    } else {\n        this._remainingBytes = false;\n    }\n\n    b64 = this._curLine + encode(chunk);\n\n    if (this.options.lineLength) {\n        b64 = wrap(b64, this.options.lineLength);\n        b64 = b64.replace(/(^|\\n)([^\\n]*)$/, function(match, lineBreak, lastLine) {\n            _self._curLine = lastLine;\n            return lineBreak;\n        });\n    }\n\n    if (b64) {\n        this.outputBytes += b64.length;\n        this.push(b64);\n    }\n\n    done();\n};\n\nEncoder.prototype._flush = function(done) {\n    if (this._remainingBytes && this._remainingBytes.length) {\n        this._curLine += encode(this._remainingBytes);\n    }\n    if (this._curLine) {\n        this._curLine = wrap(this._curLine, this.options.lineLength);\n        this.outputBytes += this._curLine.length;\n        this.push(this._curLine, 'ascii');\n        this._curLine = '';\n    }\n    done();\n};\n\n/**\n * Creates a transform stream for decoding base64 encoded strings\n *\n * @constructor\n * @param {Object} options Stream options\n */\nfunction Decoder(options) {\n    // init Transform\n    this.options = options || {};\n    this._curLine = '';\n\n    this.inputBytes = 0;\n    this.outputBytes = 0;\n\n    Transform.call(this, this.options);\n}\nutil.inherits(Decoder, Transform);\n\nDecoder.prototype._transform = function(chunk, encoding, done) {\n    var b64, buf;\n\n    chunk = chunk.toString('ascii');\n\n    if (!chunk || !chunk.length) {\n        return done();\n    }\n\n    this.inputBytes += chunk.length;\n\n    b64 = (this._curLine + chunk);\n    this._curLine = '';\n\n    b64 = b64.replace(/[^a-zA-Z0-9+\\/=]/g, '');\n\n    if (b64.length % 4) {\n        this._curLine = b64.substr(-b64.length % 4);\n        if (this._curLine.length == b64.length) {\n            b64 = '';\n        } else {\n            b64 = b64.substr(0, this._curLine.length);\n        }\n    }\n\n    if (b64) {\n        buf = decode(b64);\n        this.outputBytes += buf.length;\n        this.push(buf);\n    }\n\n    done();\n};\n\nDecoder.prototype._flush = function(done) {\n    var b64, buf;\n    if (this._curLine) {\n        buf = decode(this._curLine);\n        this.outputBytes += buf.length;\n        this.push(buf);\n        this._curLine = '';\n    }\n    done();\n};"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 171, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/1/Documents/Pets/ambilux/frontend/node_modules/libqp/lib/libqp.js"],"sourcesContent":["'use strict';\n\nvar stream = require('stream');\nvar util = require('util');\nvar Transform = stream.Transform;\n\n// expose to the world\nmodule.exports = {\n    encode: encode,\n    decode: decode,\n    wrap: wrap,\n    Encoder: Encoder,\n    Decoder: Decoder\n};\n\n/**\n * Encodes a Buffer into a Quoted-Printable encoded string\n *\n * @param {Buffer} buffer Buffer to convert\n * @returns {String} Quoted-Printable encoded string\n */\nfunction encode(buffer) {\n    if (typeof buffer === 'string') {\n        buffer = new Buffer(buffer, 'utf-8');\n    }\n\n    // usable characters that do not need encoding\n    var ranges = [\n        // https://tools.ietf.org/html/rfc2045#section-6.7\n        [0x09], // <TAB>\n        [0x0A], // <LF>\n        [0x0D], // <CR>\n        [0x20, 0x3C], // <SP>!\"#$%&'()*+,-./0123456789:;\n        [0x3E, 0x7E] // >?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}\n    ];\n    var result = '';\n    var ord;\n\n    for (var i = 0, len = buffer.length; i < len; i++) {\n        ord = buffer[i];\n        // if the char is in allowed range, then keep as is, unless it is a ws in the end of a line\n        if (checkRanges(ord, ranges) && !((ord === 0x20 || ord === 0x09) && (i === len - 1 || buffer[i + 1] === 0x0a || buffer[i + 1] === 0x0d))) {\n            result += String.fromCharCode(ord);\n            continue;\n        }\n        result += '=' + (ord < 0x10 ? '0' : '') + ord.toString(16).toUpperCase();\n    }\n\n    return result;\n}\n\n/**\n * Decodes a Quoted-Printable encoded string to a Buffer object\n *\n * @param {String} str Quoted-Printable encoded string\n * @returns {Buffer} Decoded value\n */\nfunction decode(str) {\n    str = (str || '').toString().\n        // remove invalid whitespace from the end of lines\n    replace(/[\\t ]+$/gm, '').\n        // remove soft line breaks\n    replace(/\\=(?:\\r?\\n|$)/g, '');\n\n    var encodedBytesCount = (str.match(/\\=[\\da-fA-F]{2}/g) || []).length,\n        bufferLength = str.length - encodedBytesCount * 2,\n        chr, hex,\n        buffer = new Buffer(bufferLength),\n        bufferPos = 0;\n\n    for (var i = 0, len = str.length; i < len; i++) {\n        chr = str.charAt(i);\n        if (chr === '=' && (hex = str.substr(i + 1, 2)) && /[\\da-fA-F]{2}/.test(hex)) {\n            buffer[bufferPos++] = parseInt(hex, 16);\n            i += 2;\n            continue;\n        }\n        buffer[bufferPos++] = chr.charCodeAt(0);\n    }\n\n    return buffer;\n}\n\n/**\n * Adds soft line breaks to a Quoted-Printable string\n *\n * @param {String} str Quoted-Printable encoded string that might need line wrapping\n * @param {Number} [lineLength=76] Maximum allowed length for a line\n * @returns {String} Soft-wrapped Quoted-Printable encoded string\n */\nfunction wrap(str, lineLength) {\n    str = (str || '').toString();\n    lineLength = lineLength || 76;\n\n    if (str.length <= lineLength) {\n        return str;\n    }\n\n    var pos = 0,\n        len = str.length,\n        match, code, line,\n        lineMargin = Math.floor(lineLength / 3),\n        result = '';\n\n    // insert soft linebreaks where needed\n    while (pos < len) {\n        line = str.substr(pos, lineLength);\n        if ((match = line.match(/\\r\\n/))) {\n            line = line.substr(0, match.index + match[0].length);\n            result += line;\n            pos += line.length;\n            continue;\n        }\n\n        if (line.substr(-1) === '\\n') {\n            // nothing to change here\n            result += line;\n            pos += line.length;\n            continue;\n        } else if ((match = line.substr(-lineMargin).match(/\\n.*?$/))) {\n            // truncate to nearest line break\n            line = line.substr(0, line.length - (match[0].length - 1));\n            result += line;\n            pos += line.length;\n            continue;\n        } else if (line.length > lineLength - lineMargin && (match = line.substr(-lineMargin).match(/[ \\t\\.,!\\?][^ \\t\\.,!\\?]*$/))) {\n            // truncate to nearest space\n            line = line.substr(0, line.length - (match[0].length - 1));\n        } else {\n            if (line.match(/\\=[\\da-f]{0,2}$/i)) {\n\n                // push incomplete encoding sequences to the next line\n                if ((match = line.match(/\\=[\\da-f]{0,1}$/i))) {\n                    line = line.substr(0, line.length - match[0].length);\n                }\n\n                // ensure that utf-8 sequences are not split\n                while (line.length > 3 && line.length < len - pos && !line.match(/^(?:=[\\da-f]{2}){1,4}$/i) && (match = line.match(/\\=[\\da-f]{2}$/ig))) {\n                    code = parseInt(match[0].substr(1, 2), 16);\n                    if (code < 128) {\n                        break;\n                    }\n\n                    line = line.substr(0, line.length - 3);\n\n                    if (code >= 0xC0) {\n                        break;\n                    }\n                }\n            }\n        }\n\n        if (pos + line.length < len && line.substr(-1) !== '\\n') {\n            if (line.length === lineLength && line.match(/\\=[\\da-f]{2}$/i)) {\n                line = line.substr(0, line.length - 3);\n            } else if (line.length === lineLength) {\n                line = line.substr(0, line.length - 1);\n            }\n            pos += line.length;\n            line += '=\\r\\n';\n        } else {\n            pos += line.length;\n        }\n\n        result += line;\n    }\n\n    return result;\n}\n\n/**\n * Helper function to check if a number is inside provided ranges\n *\n * @param {Number} nr Number to check for\n * @param {Array} ranges An Array of allowed values\n * @returns {Boolean} True if the value was found inside allowed ranges, false otherwise\n */\nfunction checkRanges(nr, ranges) {\n    for (var i = ranges.length - 1; i >= 0; i--) {\n        if (!ranges[i].length) {\n            continue;\n        }\n        if (ranges[i].length === 1 && nr === ranges[i][0]) {\n            return true;\n        }\n        if (ranges[i].length === 2 && nr >= ranges[i][0] && nr <= ranges[i][1]) {\n            return true;\n        }\n    }\n    return false;\n}\n\n/**\n * Creates a transform stream for encoding data to Quoted-Printable encoding\n *\n * @constructor\n * @param {Object} options Stream options\n * @param {Number} [options.lineLength=76] Maximum lenght for lines, set to false to disable wrapping\n */\nfunction Encoder(options) {\n    // init Transform\n    this.options = options || {};\n\n    if (this.options.lineLength !== false) {\n        this.options.lineLength = this.options.lineLength || 76;\n    }\n\n    this._curLine = '';\n\n    this.inputBytes = 0;\n    this.outputBytes = 0;\n\n    Transform.call(this, this.options);\n}\nutil.inherits(Encoder, Transform);\n\nEncoder.prototype._transform = function(chunk, encoding, done) {\n    var qp, _self = this;\n\n    if (encoding !== 'buffer') {\n        chunk = new Buffer(chunk, encoding);\n    }\n\n    if (!chunk || !chunk.length) {\n        return done();\n    }\n\n    this.inputBytes += chunk.length;\n\n    if (this.options.lineLength) {\n        qp = this._curLine + encode(chunk);\n        qp = wrap(qp, this.options.lineLength);\n        qp = qp.replace(/(^|\\n)([^\\n]*)$/, function(match, lineBreak, lastLine) {\n            _self._curLine = lastLine;\n            return lineBreak;\n        });\n\n        if (qp) {\n            this.outputBytes += qp.length;\n            this.push(qp);\n        }\n\n    } else {\n        qp = encode(chunk);\n        this.outputBytes += qp.length;\n        this.push(qp, 'ascii');\n    }\n\n    done();\n};\n\nEncoder.prototype._flush = function(done) {\n    if (this._curLine) {\n        this.outputBytes += this._curLine.length;\n        this.push(this._curLine, 'ascii');\n    }\n    done();\n};\n\n/**\n * Creates a transform stream for decoding Quoted-Printable encoded strings\n *\n * @constructor\n * @param {Object} options Stream options\n */\nfunction Decoder(options) {\n    // init Transform\n    this.options = options || {};\n    this._curLine = '';\n\n    this.inputBytes = 0;\n    this.outputBytes = 0;\n\n    Transform.call(this, this.options);\n}\nutil.inherits(Decoder, Transform);\n\nDecoder.prototype._transform = function(chunk, encoding, done) {\n    var qp, buf, _self = this;\n\n    chunk = chunk.toString('ascii');\n\n    if (!chunk || !chunk.length) {\n        return done();\n    }\n\n    this.inputBytes += chunk.length;\n\n    qp = (this._curLine + chunk);\n    this._curLine = '';\n    qp = qp.replace(/=[^\\n]?$/, function(lastLine) {\n        _self._curLine = lastLine;\n        return '';\n    });\n\n    if (qp) {\n        buf = decode(qp);\n        this.outputBytes += buf.length;\n        this.push(buf);\n    }\n\n    done();\n};\n\nDecoder.prototype._flush = function(done) {\n    var qp, buf;\n    if (this._curLine) {\n        buf = decode(this._curLine);\n        this.outputBytes += buf.length;\n        this.push(buf);\n    }\n    done();\n};"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 437, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/1/Documents/Pets/ambilux/frontend/node_modules/addressparser/lib/addressparser.js"],"sourcesContent":["'use strict';\n\n// expose to the world\nmodule.exports = addressparser;\n\n/**\n * Parses structured e-mail addresses from an address field\n *\n * Example:\n *\n *    'Name <address@domain>'\n *\n * will be converted to\n *\n *     [{name: 'Name', address: 'address@domain'}]\n *\n * @param {String} str Address field\n * @return {Array} An array of address objects\n */\nfunction addressparser(str) {\n    var tokenizer = new Tokenizer(str);\n    var tokens = tokenizer.tokenize();\n\n    var addresses = [];\n    var address = [];\n    var parsedAddresses = [];\n\n    tokens.forEach(function (token) {\n        if (token.type === 'operator' && (token.value === ',' || token.value === ';')) {\n            if (address.length) {\n                addresses.push(address);\n            }\n            address = [];\n        } else {\n            address.push(token);\n        }\n    });\n\n    if (address.length) {\n        addresses.push(address);\n    }\n\n    addresses.forEach(function (address) {\n        address = _handleAddress(address);\n        if (address.length) {\n            parsedAddresses = parsedAddresses.concat(address);\n        }\n    });\n\n    return parsedAddresses;\n}\n\n/**\n * Converts tokens for a single address into an address object\n *\n * @param {Array} tokens Tokens object\n * @return {Object} Address object\n */\nfunction _handleAddress(tokens) {\n    var token;\n    var isGroup = false;\n    var state = 'text';\n    var address;\n    var addresses = [];\n    var data = {\n        address: [],\n        comment: [],\n        group: [],\n        text: []\n    };\n    var i;\n    var len;\n\n    // Filter out <addresses>, (comments) and regular text\n    for (i = 0, len = tokens.length; i < len; i++) {\n        token = tokens[i];\n        if (token.type === 'operator') {\n            switch (token.value) {\n                case '<':\n                    state = 'address';\n                    break;\n                case '(':\n                    state = 'comment';\n                    break;\n                case ':':\n                    state = 'group';\n                    isGroup = true;\n                    break;\n                default:\n                    state = 'text';\n            }\n        } else if (token.value) {\n            if (state === 'address') {\n                // handle use case where unquoted name includes a \"<\"\n                // Apple Mail truncates everything between an unexpected < and an address\n                // and so will we\n                token.value = token.value.replace(/^[^<]*<\\s*/, '');\n            }\n            data[state].push(token.value);\n        }\n    }\n\n    // If there is no text but a comment, replace the two\n    if (!data.text.length && data.comment.length) {\n        data.text = data.comment;\n        data.comment = [];\n    }\n\n    if (isGroup) {\n        // http://tools.ietf.org/html/rfc2822#appendix-A.1.3\n        data.text = data.text.join(' ');\n        addresses.push({\n            name: data.text || (address && address.name),\n            group: data.group.length ? addressparser(data.group.join(',')) : []\n        });\n    } else {\n        // If no address was found, try to detect one from regular text\n        if (!data.address.length && data.text.length) {\n            for (i = data.text.length - 1; i >= 0; i--) {\n                if (data.text[i].match(/^[^@\\s]+@[^@\\s]+$/)) {\n                    data.address = data.text.splice(i, 1);\n                    break;\n                }\n            }\n\n            var _regexHandler = function (address) {\n                if (!data.address.length) {\n                    data.address = [address.trim()];\n                    return ' ';\n                } else {\n                    return address;\n                }\n            };\n\n            // still no address\n            if (!data.address.length) {\n                for (i = data.text.length - 1; i >= 0; i--) {\n                    // fixed the regex to parse email address correctly when email address has more than one @\n                    data.text[i] = data.text[i].replace(/\\s*\\b[^@\\s]+@[^\\s]+\\b\\s*/, _regexHandler).trim();\n                    if (data.address.length) {\n                        break;\n                    }\n                }\n            }\n        }\n\n        // If there's still is no text but a comment exixts, replace the two\n        if (!data.text.length && data.comment.length) {\n            data.text = data.comment;\n            data.comment = [];\n        }\n\n        // Keep only the first address occurence, push others to regular text\n        if (data.address.length > 1) {\n            data.text = data.text.concat(data.address.splice(1));\n        }\n\n        // Join values with spaces\n        data.text = data.text.join(' ');\n        data.address = data.address.join(' ');\n\n        if (!data.address && isGroup) {\n            return [];\n        } else {\n            address = {\n                address: data.address || data.text || '',\n                name: data.text || data.address || ''\n            };\n\n            if (address.address === address.name) {\n                if ((address.address || '').match(/@/)) {\n                    address.name = '';\n                } else {\n                    address.address = '';\n                }\n\n            }\n\n            addresses.push(address);\n        }\n    }\n\n    return addresses;\n}\n\n/**\n * Creates a Tokenizer object for tokenizing address field strings\n *\n * @constructor\n * @param {String} str Address field string\n */\nfunction Tokenizer(str) {\n    this.str = (str || '').toString();\n    this.operatorCurrent = '';\n    this.operatorExpecting = '';\n    this.node = null;\n    this.escaped = false;\n\n    this.list = [];\n}\n\n/**\n * Operator tokens and which tokens are expected to end the sequence\n */\nTokenizer.prototype.operators = {\n    '\"': '\"',\n    '(': ')',\n    '<': '>',\n    ',': '',\n    ':': ';',\n    // Semicolons are not a legal delimiter per the RFC2822 grammar other\n    // than for terminating a group, but they are also not valid for any\n    // other use in this context.  Given that some mail clients have\n    // historically allowed the semicolon as a delimiter equivalent to the\n    // comma in their UI, it makes sense to treat them the same as a comma\n    // when used outside of a group.\n    ';': ''\n};\n\n/**\n * Tokenizes the original input string\n *\n * @return {Array} An array of operator|text tokens\n */\nTokenizer.prototype.tokenize = function () {\n    var chr, list = [];\n    for (var i = 0, len = this.str.length; i < len; i++) {\n        chr = this.str.charAt(i);\n        this.checkChar(chr);\n    }\n\n    this.list.forEach(function (node) {\n        node.value = (node.value || '').toString().trim();\n        if (node.value) {\n            list.push(node);\n        }\n    });\n\n    return list;\n};\n\n/**\n * Checks if a character is an operator or text and acts accordingly\n *\n * @param {String} chr Character from the address field\n */\nTokenizer.prototype.checkChar = function (chr) {\n    if ((chr in this.operators || chr === '\\\\') && this.escaped) {\n        this.escaped = false;\n    } else if (this.operatorExpecting && chr === this.operatorExpecting) {\n        this.node = {\n            type: 'operator',\n            value: chr\n        };\n        this.list.push(this.node);\n        this.node = null;\n        this.operatorExpecting = '';\n        this.escaped = false;\n        return;\n    } else if (!this.operatorExpecting && chr in this.operators) {\n        this.node = {\n            type: 'operator',\n            value: chr\n        };\n        this.list.push(this.node);\n        this.node = null;\n        this.operatorExpecting = this.operators[chr];\n        this.escaped = false;\n        return;\n    }\n\n    if (!this.escaped && chr === '\\\\') {\n        this.escaped = true;\n        return;\n    }\n\n    if (!this.node) {\n        this.node = {\n            type: 'text',\n            value: ''\n        };\n        this.list.push(this.node);\n    }\n\n    if (this.escaped && chr !== '\\\\') {\n        this.node.value += '\\\\';\n    }\n\n    this.node.value += chr;\n    this.escaped = false;\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 695, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/1/Documents/Pets/ambilux/frontend/node_modules/nodemailer-fetch/lib/cookies.js"],"sourcesContent":["'use strict';\n\n// module to handle cookies\n\nvar urllib = require('url');\n\nvar SESSION_TIMEOUT = 1800; // 30 min\n\nmodule.exports = Cookies;\n\n/**\n * Creates a biskviit cookie jar for managing cookie values in memory\n *\n * @constructor\n * @param {Object} [options] Optional options object\n */\nfunction Cookies(options) {\n    this.options = options || {};\n    this.cookies = [];\n}\n\n/**\n * Stores a cookie string to the cookie storage\n *\n * @param {String} cookieStr Value from the 'Set-Cookie:' header\n * @param {String} url Current URL\n */\nCookies.prototype.set = function (cookieStr, url) {\n    var urlparts = urllib.parse(url || '');\n    var cookie = this.parse(cookieStr);\n    var domain;\n\n    if (cookie.domain) {\n        domain = cookie.domain.replace(/^\\./, '');\n\n        // do not allow cross origin cookies\n        if (\n            // can't be valid if the requested domain is shorter than current hostname\n            urlparts.hostname.length < domain.length ||\n\n            // prefix domains with dot to be sure that partial matches are not used\n            ('.' + urlparts.hostname).substr(-domain.length + 1) !== ('.' + domain)) {\n            cookie.domain = urlparts.hostname;\n        }\n    } else {\n        cookie.domain = urlparts.hostname;\n    }\n\n    if (!cookie.path) {\n        cookie.path = this.getPath(urlparts.pathname);\n    }\n\n    // if no expire date, then use sessionTimeout value\n    if (!cookie.expires) {\n        cookie.expires = new Date(Date.now() + (Number(this.options.sessionTimeout || SESSION_TIMEOUT) || SESSION_TIMEOUT) * 1000);\n    }\n\n    return this.add(cookie);\n};\n\n/**\n * Returns cookie string for the 'Cookie:' header.\n *\n * @param {String} url URL to check for\n * @returns {String} Cookie header or empty string if no matches were found\n */\nCookies.prototype.get = function (url) {\n    return this.list(url).map(function (cookie) {\n        return cookie.name + '=' + cookie.value;\n    }).join('; ');\n};\n\n/**\n * Lists all valied cookie objects for the specified URL\n *\n * @param {String} url URL to check for\n * @returns {Array} An array of cookie objects\n */\nCookies.prototype.list = function (url) {\n    var result = [];\n    var i;\n    var cookie;\n\n    for (i = this.cookies.length - 1; i >= 0; i--) {\n        cookie = this.cookies[i];\n\n        if (this.isExpired(cookie)) {\n            this.cookies.splice(i, i);\n            continue;\n        }\n\n        if (this.match(cookie, url)) {\n            result.unshift(cookie);\n        }\n    }\n\n    return result;\n};\n\n/**\n * Parses cookie string from the 'Set-Cookie:' header\n *\n * @param {String} cookieStr String from the 'Set-Cookie:' header\n * @returns {Object} Cookie object\n */\nCookies.prototype.parse = function (cookieStr) {\n    var cookie = {};\n\n    (cookieStr || '').toString().split(';').forEach(function (cookiePart) {\n        var valueParts = cookiePart.split('=');\n        var key = valueParts.shift().trim().toLowerCase();\n        var value = valueParts.join('=').trim();\n        var domain;\n\n        if (!key) {\n            // skip empty parts\n            return;\n        }\n\n        switch (key) {\n\n            case 'expires':\n                value = new Date(value);\n                // ignore date if can not parse it\n                if (value.toString() !== 'Invalid Date') {\n                    cookie.expires = value;\n                }\n                break;\n\n            case 'path':\n                cookie.path = value;\n                break;\n\n            case 'domain':\n                domain = value.toLowerCase();\n                if (domain.length && domain.charAt(0) !== '.') {\n                    domain = '.' + domain; // ensure preceeding dot for user set domains\n                }\n                cookie.domain = domain;\n                break;\n\n            case 'max-age':\n                cookie.expires = new Date(Date.now() + (Number(value) || 0) * 1000);\n                break;\n\n            case 'secure':\n                cookie.secure = true;\n                break;\n\n            case 'httponly':\n                cookie.httponly = true;\n                break;\n\n            default:\n                if (!cookie.name) {\n                    cookie.name = key;\n                    cookie.value = value;\n                }\n        }\n    });\n\n    return cookie;\n};\n\n/**\n * Checks if a cookie object is valid for a specified URL\n *\n * @param {Object} cookie Cookie object\n * @param {String} url URL to check for\n * @returns {Boolean} true if cookie is valid for specifiec URL\n */\nCookies.prototype.match = function (cookie, url) {\n    var urlparts = urllib.parse(url || '');\n\n    // check if hostname matches\n    // .foo.com also matches subdomains, foo.com does not\n    if (urlparts.hostname !== cookie.domain && (cookie.domain.charAt(0) !== '.' || ('.' + urlparts.hostname).substr(-cookie.domain.length) !== cookie.domain)) {\n        return false;\n    }\n\n    // check if path matches\n    var path = this.getPath(urlparts.pathname);\n    if (path.substr(0, cookie.path.length) !== cookie.path) {\n        return false;\n    }\n\n    // check secure argument\n    if (cookie.secure && urlparts.protocol !== 'https:') {\n        return false;\n    }\n\n    return true;\n};\n\n/**\n * Adds (or updates/removes if needed) a cookie object to the cookie storage\n *\n * @param {Object} cookie Cookie value to be stored\n */\nCookies.prototype.add = function (cookie) {\n    var i;\n    var len;\n\n    // nothing to do here\n    if (!cookie || !cookie.name) {\n        return false;\n    }\n\n    // overwrite if has same params\n    for (i = 0, len = this.cookies.length; i < len; i++) {\n        if (this.compare(this.cookies[i], cookie)) {\n\n            // check if the cookie needs to be removed instead\n            if (this.isExpired(cookie)) {\n                this.cookies.splice(i, 1); // remove expired/unset cookie\n                return false;\n            }\n\n            this.cookies[i] = cookie;\n            return true;\n        }\n    }\n\n    // add as new if not already expired\n    if (!this.isExpired(cookie)) {\n        this.cookies.push(cookie);\n    }\n\n    return true;\n};\n\n/**\n * Checks if two cookie objects are the same\n *\n * @param {Object} a Cookie to check against\n * @param {Object} b Cookie to check against\n * @returns {Boolean} True, if the cookies are the same\n */\nCookies.prototype.compare = function (a, b) {\n    return a.name === b.name && a.path === b.path && a.domain === b.domain && a.secure === b.secure && a.httponly === a.httponly;\n};\n\n/**\n * Checks if a cookie is expired\n *\n * @param {Object} cookie Cookie object to check against\n * @returns {Boolean} True, if the cookie is expired\n */\nCookies.prototype.isExpired = function (cookie) {\n    return (cookie.expires && cookie.expires < new Date()) || !cookie.value;\n};\n\n/**\n * Returns normalized cookie path for an URL path argument\n *\n * @param {String} pathname\n * @returns {String} Normalized path\n */\nCookies.prototype.getPath = function (pathname) {\n    var path = (pathname || '/').split('/');\n    path.pop(); // remove filename part\n    path = path.join('/').trim();\n\n    // ensure path prefix /\n    if (path.charAt(0) !== '/') {\n        path = '/' + path;\n    }\n\n    // ensure path suffix /\n    if (path.substr(-1) !== '/') {\n        path += '/';\n    }\n\n    return path;\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 913, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/1/Documents/Pets/ambilux/frontend/node_modules/nodemailer-fetch/lib/fetch.js"],"sourcesContent":["'use strict';\n\nvar http = require('http');\nvar https = require('https');\nvar urllib = require('url');\nvar zlib = require('zlib');\nvar PassThrough = require('stream').PassThrough;\nvar Cookies = require('./cookies');\n\nvar MAX_REDIRECTS = 5;\n\nmodule.exports = function (url, options) {\n    return fetch(url, options);\n};\n\nmodule.exports.Cookies = Cookies;\n\nfunction fetch(url, options) {\n    options = options || {};\n\n    options.fetchRes = options.fetchRes || new PassThrough();\n    options.cookies = options.cookies || new Cookies();\n    options.redirects = options.redirects || 0;\n    options.maxRedirects = isNaN(options.maxRedirects) ? MAX_REDIRECTS : options.maxRedirects;\n\n    if (options.cookie) {\n        [].concat(options.cookie || []).forEach(function (cookie) {\n            options.cookies.set(cookie, url);\n        });\n        options.cookie = false;\n    }\n\n    var fetchRes = options.fetchRes;\n    var parsed = urllib.parse(url);\n    var method = (options.method || '').toString().trim().toUpperCase() || 'GET';\n    var finished = false;\n    var cookies;\n    var body;\n\n    var handler = parsed.protocol === 'https:' ? https : http;\n\n    var headers = {\n        'accept-encoding': 'gzip,deflate'\n    };\n\n    Object.keys(options.headers || {}).forEach(function (key) {\n        headers[key.toLowerCase().trim()] = options.headers[key];\n    });\n\n    if (options.userAgent) {\n        headers['User-Agent'] = options.userAgent;\n    }\n\n    if (parsed.auth) {\n        headers.Authorization = 'Basic ' + new Buffer(parsed.auth).toString('base64');\n    }\n\n    if ((cookies = options.cookies.get(url))) {\n        headers.cookie = cookies;\n    }\n\n    if (options.body) {\n        if (options.contentType !== false) {\n            headers['Content-Type'] = options.contentType || 'application/x-www-form-urlencoded';\n        }\n\n        if (typeof options.body.pipe === 'function') {\n            // it's a stream\n            headers['Transfer-Encoding'] = 'chunked';\n            body = options.body;\n            body.on('error', function (err) {\n                if (finished) {\n                    return;\n                }\n                finished = true;\n                fetchRes.emit('error', err);\n            });\n        } else {\n            if (options.body instanceof Buffer) {\n                body = options.body;\n            } else if (typeof options.body === 'object') {\n                body = new Buffer(Object.keys(options.body).map(function (key) {\n                    var value = options.body[key].toString().trim();\n                    return encodeURIComponent(key) + '=' + encodeURIComponent(value);\n                }).join('&'));\n            } else {\n                body = new Buffer(options.body.toString().trim());\n            }\n\n            headers['Content-Type'] = options.contentType || 'application/x-www-form-urlencoded';\n            headers['Content-Length'] = body.length;\n        }\n        // if method is not provided, use POST instead of GET\n        method = (options.method || '').toString().trim().toUpperCase() || 'POST';\n    }\n\n    var req;\n    var reqOptions = {\n        method: method,\n        host: parsed.hostname,\n        path: parsed.path,\n        port: parsed.port ? parsed.port : (parsed.protocol === 'https:' ? 443 : 80),\n        headers: headers,\n        rejectUnauthorized: false,\n        agent: false\n    };\n\n    if (options.tls) {\n        Object.keys(options.tls).forEach(function (key) {\n            reqOptions[key] = options.tls[key];\n        });\n    }\n\n    try {\n        req = handler.request(reqOptions);\n    } catch (E) {\n        finished = true;\n        setImmediate(function () {\n            fetchRes.emit('error', E);\n        });\n        return fetchRes;\n    }\n\n    if (options.timeout) {\n        req.setTimeout(options.timeout, function () {\n            if (finished) {\n                return;\n            }\n            finished = true;\n            req.abort();\n            fetchRes.emit('error', new Error('Request Tiemout'));\n        });\n    }\n\n    req.on('error', function (err) {\n        if (finished) {\n            return;\n        }\n        finished = true;\n        fetchRes.emit('error', err);\n    });\n\n    req.on('response', function (res) {\n        var inflate;\n\n        if (finished) {\n            return;\n        }\n\n        switch (res.headers['content-encoding']) {\n            case 'gzip':\n            case 'deflate':\n                inflate = zlib.createUnzip();\n                break;\n        }\n\n        if (res.headers['set-cookie']) {\n            [].concat(res.headers['set-cookie'] || []).forEach(function (cookie) {\n                options.cookies.set(cookie, url);\n            });\n        }\n\n        if ([301, 302, 303, 307, 308].indexOf(res.statusCode) >= 0 && res.headers.location) {\n            // redirect\n            options.redirects++;\n            if (options.redirects > options.maxRedirects) {\n                finished = true;\n                fetchRes.emit('error', new Error('Maximum redirect count exceeded'));\n                req.abort();\n                return;\n            }\n            return fetch(urllib.resolve(url, res.headers.location), options);\n        }\n\n        if (res.statusCode >= 300) {\n            finished = true;\n            fetchRes.emit('error', new Error('Invalid status code ' + res.statusCode));\n            req.abort();\n            return;\n        }\n\n        res.on('error', function (err) {\n            if (finished) {\n                return;\n            }\n            finished = true;\n            fetchRes.emit('error', err);\n            req.abort();\n        });\n\n        if (inflate) {\n            res.pipe(inflate).pipe(fetchRes);\n            inflate.on('error', function (err) {\n                if (finished) {\n                    return;\n                }\n                finished = true;\n                fetchRes.emit('error', err);\n                req.abort();\n            });\n        } else {\n            res.pipe(fetchRes);\n        }\n    });\n\n    setImmediate(function () {\n        if (body) {\n            try {\n                if (typeof body.pipe === 'function') {\n                    return body.pipe(req);\n                } else {\n                    req.write(body);\n                }\n            } catch (err) {\n                finished = true;\n                fetchRes.emit('error', err);\n                return;\n            }\n        }\n        req.end();\n    });\n\n    return fetchRes;\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1116, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/1/Documents/Pets/ambilux/frontend/node_modules/buildmail/lib/buildmail.js"],"sourcesContent":["'use strict';\n\nvar libmime = require('libmime');\nvar libqp = require('libqp');\nvar libbase64 = require('libbase64');\nvar punycode = require('punycode');\nvar addressparser = require('addressparser');\nvar stream = require('stream');\nvar PassThrough = stream.PassThrough;\nvar fs = require('fs');\nvar fetch = require('nodemailer-fetch');\nvar crypto = require('crypto');\nvar os = require('os');\n\nmodule.exports = MimeNode;\n\n/**\n * Creates a new mime tree node. Assumes 'multipart/*' as the content type\n * if it is a branch, anything else counts as leaf. If rootNode is missing from\n * the options, assumes this is the root.\n *\n * @param {String} contentType Define the content type for the node. Can be left blank for attachments (derived from filename)\n * @param {Object} [options] optional options\n * @param {Object} [options.rootNode] root node for this tree\n * @param {Object} [options.parentNode] immediate parent for this node\n * @param {Object} [options.filename] filename for an attachment node\n * @param {String} [options.baseBoundary] shared part of the unique multipart boundary\n * @param {Boolean} [options.keepBcc] If true, do not exclude Bcc from the generated headers\n * @param {String} [options.textEncoding] either 'Q' (the default) or 'B'\n */\nfunction MimeNode(contentType, options) {\n    this.nodeCounter = 0;\n\n    options = options || {};\n\n    /**\n     * shared part of the unique multipart boundary\n     */\n    this.baseBoundary = options.baseBoundary || Date.now().toString() + Math.random();\n    this.boundaryPrefix = options.boundaryPrefix || '----sinikael';\n\n    this.disableFileAccess = !!options.disableFileAccess;\n    this.disableUrlAccess = !!options.disableUrlAccess;\n\n    /**\n     * If date headers is missing and current node is the root, this value is used instead\n     */\n    this.date = new Date();\n\n    /**\n     * Root node for current mime tree\n     */\n    this.rootNode = options.rootNode || this;\n\n    /**\n     * If true include Bcc in generated headers (if available)\n     */\n    this.keepBcc = !!options.keepBcc;\n\n    /**\n     * If filename is specified but contentType is not (probably an attachment)\n     * detect the content type from filename extension\n     */\n    if (options.filename) {\n        /**\n         * Filename for this node. Useful with attachments\n         */\n        this.filename = options.filename;\n        if (!contentType) {\n            contentType = libmime.detectMimeType(this.filename.split('.').pop());\n        }\n    }\n\n    /**\n     * Indicates which encoding should be used for header strings: \"Q\" or \"B\"\n     */\n    this.textEncoding = (options.textEncoding || '').toString().trim().charAt(0).toUpperCase();\n\n    /**\n     * Immediate parent for this node (or undefined if not set)\n     */\n    this.parentNode = options.parentNode;\n\n    /**\n     * Hostname for default message-id values\n     */\n    this.hostname = options.hostname;\n\n    /**\n     * An array for possible child nodes\n     */\n    this.childNodes = [];\n\n    /**\n     * Used for generating unique boundaries (prepended to the shared base)\n     */\n    this._nodeId = ++this.rootNode.nodeCounter;\n\n    /**\n     * A list of header values for this node in the form of [{key:'', value:''}]\n     */\n    this._headers = [];\n\n    /**\n     * True if the content only uses ASCII printable characters\n     * @type {Boolean}\n     */\n    this._isPlainText = false;\n\n    /**\n     * True if the content is plain text but has longer lines than allowed\n     * @type {Boolean}\n     */\n    this._hasLongLines = false;\n\n    /**\n     * If set, use instead this value for envelopes instead of generating one\n     * @type {Boolean}\n     */\n    this._envelope = false;\n\n    /**\n     * If set then use this value as the stream content instead of building it\n     * @type {String|Buffer|Stream}\n     */\n    this._raw = false;\n\n    /**\n     * Additional transform streams that the message will be piped before\n     * exposing by createReadStream\n     * @type {Array}\n     */\n    this._transforms = [];\n\n    /**\n     * If content type is set (or derived from the filename) add it to headers\n     */\n    if (contentType) {\n        this.setHeader('Content-Type', contentType);\n    }\n}\n\n/////// PUBLIC METHODS\n\n/**\n * Creates and appends a child node.Arguments provided are passed to MimeNode constructor\n *\n * @param {String} [contentType] Optional content type\n * @param {Object} [options] Optional options object\n * @return {Object} Created node object\n */\nMimeNode.prototype.createChild = function (contentType, options) {\n    if (!options && typeof contentType === 'object') {\n        options = contentType;\n        contentType = undefined;\n    }\n    var node = new MimeNode(contentType, options);\n    this.appendChild(node);\n    return node;\n};\n\n/**\n * Appends an existing node to the mime tree. Removes the node from an existing\n * tree if needed\n *\n * @param {Object} childNode node to be appended\n * @return {Object} Appended node object\n */\nMimeNode.prototype.appendChild = function (childNode) {\n\n    if (childNode.rootNode !== this.rootNode) {\n        childNode.rootNode = this.rootNode;\n        childNode._nodeId = ++this.rootNode.nodeCounter;\n    }\n\n    childNode.parentNode = this;\n\n    this.childNodes.push(childNode);\n    return childNode;\n};\n\n/**\n * Replaces current node with another node\n *\n * @param {Object} node Replacement node\n * @return {Object} Replacement node\n */\nMimeNode.prototype.replace = function (node) {\n    if (node === this) {\n        return this;\n    }\n\n    this.parentNode.childNodes.forEach(function (childNode, i) {\n        if (childNode === this) {\n\n            node.rootNode = this.rootNode;\n            node.parentNode = this.parentNode;\n            node._nodeId = this._nodeId;\n\n            this.rootNode = this;\n            this.parentNode = undefined;\n\n            node.parentNode.childNodes[i] = node;\n        }\n    }.bind(this));\n\n    return node;\n};\n\n/**\n * Removes current node from the mime tree\n *\n * @return {Object} removed node\n */\nMimeNode.prototype.remove = function () {\n    if (!this.parentNode) {\n        return this;\n    }\n\n    for (var i = this.parentNode.childNodes.length - 1; i >= 0; i--) {\n        if (this.parentNode.childNodes[i] === this) {\n            this.parentNode.childNodes.splice(i, 1);\n            this.parentNode = undefined;\n            this.rootNode = this;\n            return this;\n        }\n    }\n};\n\n/**\n * Sets a header value. If the value for selected key exists, it is overwritten.\n * You can set multiple values as well by using [{key:'', value:''}] or\n * {key: 'value'} as the first argument.\n *\n * @param {String|Array|Object} key Header key or a list of key value pairs\n * @param {String} value Header value\n * @return {Object} current node\n */\nMimeNode.prototype.setHeader = function (key, value) {\n    var added = false,\n        headerValue;\n\n    // Allow setting multiple headers at once\n    if (!value && key && typeof key === 'object') {\n        // allow {key:'content-type', value: 'text/plain'}\n        if (key.key && 'value' in key) {\n            this.setHeader(key.key, key.value);\n        }\n        // allow [{key:'content-type', value: 'text/plain'}]\n        else if (Array.isArray(key)) {\n            key.forEach(function (i) {\n                this.setHeader(i.key, i.value);\n            }.bind(this));\n        }\n        // allow {'content-type': 'text/plain'}\n        else {\n            Object.keys(key).forEach(function (i) {\n                this.setHeader(i, key[i]);\n            }.bind(this));\n        }\n        return this;\n    }\n\n    key = this._normalizeHeaderKey(key);\n\n    headerValue = {\n        key: key,\n        value: value\n    };\n\n    // Check if the value exists and overwrite\n    for (var i = 0, len = this._headers.length; i < len; i++) {\n        if (this._headers[i].key === key) {\n            if (!added) {\n                // replace the first match\n                this._headers[i] = headerValue;\n                added = true;\n            } else {\n                // remove following matches\n                this._headers.splice(i, 1);\n                i--;\n                len--;\n            }\n        }\n    }\n\n    // match not found, append the value\n    if (!added) {\n        this._headers.push(headerValue);\n    }\n\n    return this;\n};\n\n/**\n * Adds a header value. If the value for selected key exists, the value is appended\n * as a new field and old one is not touched.\n * You can set multiple values as well by using [{key:'', value:''}] or\n * {key: 'value'} as the first argument.\n *\n * @param {String|Array|Object} key Header key or a list of key value pairs\n * @param {String} value Header value\n * @return {Object} current node\n */\nMimeNode.prototype.addHeader = function (key, value) {\n\n    // Allow setting multiple headers at once\n    if (!value && key && typeof key === 'object') {\n        // allow {key:'content-type', value: 'text/plain'}\n        if (key.key && key.value) {\n            this.addHeader(key.key, key.value);\n        }\n        // allow [{key:'content-type', value: 'text/plain'}]\n        else if (Array.isArray(key)) {\n            key.forEach(function (i) {\n                this.addHeader(i.key, i.value);\n            }.bind(this));\n        }\n        // allow {'content-type': 'text/plain'}\n        else {\n            Object.keys(key).forEach(function (i) {\n                this.addHeader(i, key[i]);\n            }.bind(this));\n        }\n        return this;\n    } else if (Array.isArray(value)) {\n        value.forEach(function (val) {\n            this.addHeader(key, val);\n        }.bind(this));\n        return this;\n    }\n\n    this._headers.push({\n        key: this._normalizeHeaderKey(key),\n        value: value\n    });\n\n    return this;\n};\n\n/**\n * Retrieves the first mathcing value of a selected key\n *\n * @param {String} key Key to search for\n * @retun {String} Value for the key\n */\nMimeNode.prototype.getHeader = function (key) {\n    key = this._normalizeHeaderKey(key);\n    for (var i = 0, len = this._headers.length; i < len; i++) {\n        if (this._headers[i].key === key) {\n            return this._headers[i].value;\n        }\n    }\n};\n\n/**\n * Sets body content for current node. If the value is a string, charset is added automatically\n * to Content-Type (if it is text/*). If the value is a Buffer, you need to specify\n * the charset yourself\n *\n * @param (String|Buffer) content Body content\n * @return {Object} current node\n */\nMimeNode.prototype.setContent = function (content) {\n    var _self = this;\n    this.content = content;\n    if (typeof this.content.pipe === 'function') {\n        // pre-stream handler. might be triggered if a stream is set as content\n        // and 'error' fires before anything is done with this stream\n        this._contentErrorHandler = function (err) {\n            _self.content.removeListener('error', _self._contentErrorHandler);\n            _self.content = err;\n        };\n        this.content.once('error', this._contentErrorHandler);\n    } else if (typeof this.content === 'string') {\n        this._isPlainText = libmime.isPlainText(this.content);\n        if (this._isPlainText && libmime.hasLongerLines(this.content, 76)) {\n            // If there are lines longer than 76 symbols/bytes do not use 7bit\n            this._hasLongLines = true;\n        }\n    }\n    return this;\n};\n\nMimeNode.prototype.build = function (callback) {\n    var stream = this.createReadStream();\n    var buf = [];\n    var buflen = 0;\n    var returned = false;\n\n    stream.on('readable', function () {\n        var chunk;\n\n        while ((chunk = stream.read()) !== null) {\n            buf.push(chunk);\n            buflen += chunk.length;\n        }\n    });\n\n    stream.once('error', function (err) {\n        if (returned) {\n            return;\n        }\n        returned = true;\n\n        return callback(err);\n    });\n\n    stream.once('end', function (chunk) {\n        if (returned) {\n            return;\n        }\n        returned = true;\n\n        if (chunk && chunk.length) {\n            buf.push(chunk);\n            buflen += chunk.length;\n        }\n        return callback(null, Buffer.concat(buf, buflen));\n    });\n};\n\nMimeNode.prototype.getTransferEncoding = function () {\n    var transferEncoding = false;\n    var contentType = (this.getHeader('Content-Type') || '').toString().toLowerCase().trim();\n\n    if (this.content) {\n        transferEncoding = (this.getHeader('Content-Transfer-Encoding') || '').toString().toLowerCase().trim();\n        if (!transferEncoding || ['base64', 'quoted-printable'].indexOf(transferEncoding) < 0) {\n            if (/^text\\//i.test(contentType)) {\n                // If there are no special symbols, no need to modify the text\n                if (this._isPlainText && !this._hasLongLines) {\n                    transferEncoding = '7bit';\n                } else if (typeof this.content === 'string' || this.content instanceof Buffer) {\n                    // detect preferred encoding for string value\n                    transferEncoding = this._getTextEncoding(this.content) === 'Q' ? 'quoted-printable' : 'base64';\n                } else {\n                    // we can not check content for a stream, so either use preferred encoding or fallback to QP\n                    transferEncoding = this.transferEncoding === 'B' ? 'base64' : 'quoted-printable';\n                }\n            } else if (!/^(multipart|message)\\//i.test(contentType)) {\n                transferEncoding = transferEncoding || 'base64';\n            }\n        }\n    }\n    return transferEncoding;\n};\n\n/**\n * Builds the header block for the mime node. Append \\r\\n\\r\\n before writing the content\n *\n * @returns {String} Headers\n */\nMimeNode.prototype.buildHeaders = function () {\n    var _self = this;\n    var transferEncoding = this.getTransferEncoding();\n    var headers = [];\n\n    if (transferEncoding) {\n        this.setHeader('Content-Transfer-Encoding', transferEncoding);\n    }\n\n    if (this.filename && !this.getHeader('Content-Disposition')) {\n        this.setHeader('Content-Disposition', 'attachment');\n    }\n\n    // Ensure mandatory header fields\n    if (this.rootNode === this) {\n        if (!this.getHeader('Date')) {\n            this.setHeader('Date', this.date.toUTCString().replace(/GMT/, '+0000'));\n        }\n\n        // ensure that Message-Id is present\n        this.messageId();\n\n        if (!this.getHeader('MIME-Version')) {\n            this.setHeader('MIME-Version', '1.0');\n        }\n    }\n\n    this._headers.forEach(function (header) {\n        var key = header.key;\n        var value = header.value;\n        var structured;\n        var param;\n        var options = {};\n        var formattedHeaders = ['From', 'Sender', 'To', 'Cc', 'Bcc', 'Reply-To', 'Date', 'References'];\n\n        if (value && formattedHeaders.indexOf(key) < 0 && typeof value === 'object') {\n            Object.keys(value).forEach(function (key) {\n                if (key !== 'value') {\n                    options[key] = value[key];\n                }\n            });\n            value = (value.value || '').toString();\n            if (!value.trim()) {\n                return;\n            }\n        }\n\n        if (options.prepared) {\n            // header value is\n            headers.push(key + ': ' + value);\n            return;\n        }\n\n        switch (header.key) {\n            case 'Content-Disposition':\n                structured = libmime.parseHeaderValue(value);\n                if (_self.filename) {\n                    structured.params.filename = _self.filename;\n                }\n                value = libmime.buildHeaderValue(structured);\n                break;\n            case 'Content-Type':\n                structured = libmime.parseHeaderValue(value);\n\n                _self._handleContentType(structured);\n\n                if (structured.value.match(/^text\\/plain\\b/) && typeof _self.content === 'string' && /[\\u0080-\\uFFFF]/.test(_self.content)) {\n                    structured.params.charset = 'utf-8';\n                }\n\n                value = libmime.buildHeaderValue(structured);\n\n                if (_self.filename) {\n                    // add support for non-compliant clients like QQ webmail\n                    // we can't build the value with buildHeaderValue as the value is non standard and\n                    // would be converted to parameter continuation encoding that we do not want\n                    param = this._encodeWords(_self.filename);\n                    if (param !== _self.filename || /[\\s\"=;]/.test(param)) {\n                        // include value in quotes if needed\n                        param = '\"' + param + '\"';\n                    }\n                    value += '; name=' + param;\n                }\n                break;\n            case 'Bcc':\n                if (!_self.keepBcc) {\n                    // skip BCC values\n                    return;\n                }\n                break;\n        }\n\n        value = _self._encodeHeaderValue(key, value);\n\n        // skip empty lines\n        if (!(value || '').toString().trim()) {\n            return;\n        }\n\n        headers.push(libmime.foldLines(key + ': ' + value, 76));\n    }.bind(this));\n\n    return headers.join('\\r\\n');\n};\n\n/**\n * Streams the rfc2822 message from the current node. If this is a root node,\n * mandatory header fields are set if missing (Date, Message-Id, MIME-Version)\n *\n * @return {String} Compiled message\n */\nMimeNode.prototype.createReadStream = function (options) {\n    options = options || {};\n\n    var outputStream = new PassThrough(options);\n    var transform;\n\n    this.stream(outputStream, options, function (err) {\n        if (err) {\n            outputStream.emit('error', err);\n            return;\n        }\n        outputStream.end();\n    });\n\n    for (var i = 0, len = this._transforms.length; i < len; i++) {\n        transform = typeof this._transforms[i] === 'function' ? this._transforms[i]() : this._transforms[i];\n        outputStream.once('error', function (err) {\n            transform.emit('error', err);\n        });\n        outputStream = outputStream.pipe(transform);\n    }\n\n    return outputStream;\n};\n\n/**\n * Appends a transform stream object to the transforms list. Final output\n * is passed through this stream before exposing\n *\n * @param {Object} transform Read-Write stream\n */\nMimeNode.prototype.transform = function (transform) {\n    this._transforms.push(transform);\n};\n\nMimeNode.prototype.stream = function (outputStream, options, done) {\n    var _self = this;\n    var transferEncoding = this.getTransferEncoding();\n    var contentStream;\n    var localStream;\n\n    // protect actual callback against multiple triggering\n    var returned = false;\n    var callback = function (err) {\n        if (returned) {\n            return;\n        }\n        returned = true;\n        done(err);\n    };\n\n    // pushes node content\n    function sendContent() {\n        if (_self.content) {\n\n            if (Object.prototype.toString.call(_self.content) === '[object Error]') {\n                // content is already errored\n                return callback(_self.content);\n            }\n\n            if (typeof _self.content.pipe === 'function') {\n                _self.content.removeListener('error', _self._contentErrorHandler);\n                _self._contentErrorHandler = function (err) {\n                    return callback(err);\n                };\n                _self.content.once('error', _self._contentErrorHandler);\n            }\n\n            if (['quoted-printable', 'base64'].indexOf(transferEncoding) >= 0) {\n                contentStream = new(transferEncoding === 'base64' ? libbase64 : libqp).Encoder(options);\n\n                contentStream.pipe(outputStream, {\n                    end: false\n                });\n                contentStream.once('end', finalize);\n                contentStream.once('error', function (err) {\n                    return callback(err);\n                });\n\n                localStream = _self._getStream(_self.content);\n                localStream.pipe(contentStream);\n            } else {\n                // anything that is not QP or Base54 passes as-is\n                localStream = _self._getStream(_self.content);\n                localStream.pipe(outputStream, {\n                    end: false\n                });\n                localStream.once('end', finalize);\n            }\n\n            localStream.once('error', function (err) {\n                return callback(err);\n            });\n\n            return;\n        } else {\n            return setImmediate(finalize);\n        }\n    }\n\n    // for multipart nodes, push child nodes\n    // for content nodes end the stream\n    function finalize() {\n        var childId = 0;\n        var processChildNode = function () {\n            if (childId >= _self.childNodes.length) {\n                outputStream.write('\\r\\n--' + _self.boundary + '--\\r\\n');\n                return callback();\n            }\n            var child = _self.childNodes[childId++];\n            outputStream.write((childId > 1 ? '\\r\\n' : '') + '--' + _self.boundary + '\\r\\n');\n            child.stream(outputStream, options, function (err) {\n                if (err) {\n                    return callback(err);\n                }\n                setImmediate(processChildNode);\n            });\n        };\n\n        if (_self.multipart) {\n            setImmediate(processChildNode);\n        } else {\n            return callback();\n        }\n    }\n\n    if (this._raw) {\n        setImmediate(function () {\n            if (Object.prototype.toString.call(_self._raw) === '[object Error]') {\n                // content is already errored\n                return callback(_self._raw);\n            }\n\n            // remove default error handler (if set)\n            if (typeof _self._raw.pipe === 'function') {\n                _self._raw.removeListener('error', _self._contentErrorHandler);\n            }\n\n            var raw = _self._getStream(_self._raw);\n            raw.pipe(outputStream, {\n                end: false\n            });\n            raw.on('error', function (err) {\n                outputStream.emit('error', err);\n            });\n            raw.on('end', finalize);\n        });\n    } else {\n        outputStream.write(this.buildHeaders() + '\\r\\n\\r\\n');\n        setImmediate(sendContent);\n    }\n};\n\n/**\n * Sets envelope to be used instead of the generated one\n *\n * @return {Object} SMTP envelope in the form of {from: 'from@example.com', to: ['to@example.com']}\n */\nMimeNode.prototype.setEnvelope = function (envelope) {\n    var list;\n\n    this._envelope = {\n        from: false,\n        to: []\n    };\n\n    if (envelope.from) {\n        list = [];\n        this._convertAddresses(this._parseAddresses(envelope.from), list);\n        list = list.filter(function (address) {\n            return address && address.address;\n        });\n        if (list.length && list[0]) {\n            this._envelope.from = list[0].address;\n        }\n    }\n    ['to', 'cc', 'bcc'].forEach(function (key) {\n        if (envelope[key]) {\n            this._convertAddresses(this._parseAddresses(envelope[key]), this._envelope.to);\n        }\n    }.bind(this));\n\n    this._envelope.to = this._envelope.to.map(function (to) {\n        return to.address;\n    }).filter(function (address) {\n        return address;\n    });\n\n    return this;\n};\n\n/**\n * Generates and returns an object with parsed address fields\n *\n * @return {Object} Address object\n */\nMimeNode.prototype.getAddresses = function () {\n    var addresses = {};\n\n    this._headers.forEach(function (header) {\n        var key = header.key.toLowerCase();\n        if (['from', 'sender', 'reply-to', 'to', 'cc', 'bcc'].indexOf(key) >= 0) {\n            if (!Array.isArray(addresses[key])) {\n                addresses[key] = [];\n            }\n\n            this._convertAddresses(this._parseAddresses(header.value), addresses[key]);\n        }\n    }.bind(this));\n\n    return addresses;\n};\n\n/**\n * Generates and returns SMTP envelope with the sender address and a list of recipients addresses\n *\n * @return {Object} SMTP envelope in the form of {from: 'from@example.com', to: ['to@example.com']}\n */\nMimeNode.prototype.getEnvelope = function () {\n    if (this._envelope) {\n        return this._envelope;\n    }\n\n    var envelope = {\n        from: false,\n        to: []\n    };\n    this._headers.forEach(function (header) {\n        var list = [];\n        if (header.key === 'From' || (!envelope.from && ['Reply-To', 'Sender'].indexOf(header.key) >= 0)) {\n            this._convertAddresses(this._parseAddresses(header.value), list);\n            if (list.length && list[0]) {\n                envelope.from = list[0].address;\n            }\n        } else if (['To', 'Cc', 'Bcc'].indexOf(header.key) >= 0) {\n            this._convertAddresses(this._parseAddresses(header.value), envelope.to);\n        }\n    }.bind(this));\n\n    envelope.to = envelope.to.map(function (to) {\n        return to.address;\n    });\n\n    return envelope;\n};\n\n/**\n * Returns Message-Id value. If it does not exist, then creates one\n *\n * @return {String} Message-Id value\n */\nMimeNode.prototype.messageId = function () {\n    var messageId = this.getHeader('Message-ID');\n    // You really should define your own Message-Id field!\n    if (!messageId) {\n        messageId = this._generateMessageId();\n        this.setHeader('Message-ID', messageId);\n    }\n    return messageId;\n};\n\n/**\n * Sets pregenerated content that will be used as the output of this node\n *\n * @param {String|Buffer|Stream} Raw MIME contents\n */\nMimeNode.prototype.setRaw = function (raw) {\n    var _self = this;\n\n    this._raw = raw;\n\n    if (this._raw && typeof this._raw.pipe === 'function') {\n        // pre-stream handler. might be triggered if a stream is set as content\n        // and 'error' fires before anything is done with this stream\n        this._contentErrorHandler = function (err) {\n            _self._raw.removeListener('error', _self._contentErrorHandler);\n            _self._raw = err;\n        };\n        _self._raw.once('error', this._contentErrorHandler);\n    }\n\n    return this;\n};\n\n/////// PRIVATE METHODS\n\n/**\n * Detects and returns handle to a stream related with the content.\n *\n * @param {Mixed} content Node content\n * @returns {Object} Stream object\n */\nMimeNode.prototype._getStream = function (content) {\n    var contentStream;\n\n    if (typeof content.pipe === 'function') {\n        // assume as stream\n        return content;\n    } else if (content && typeof content.path === 'string' && !content.href) {\n        if (this.disableFileAccess) {\n            contentStream = new PassThrough();\n            setImmediate(function () {\n                contentStream.emit('error', new Error('File access rejected for ' + content.path));\n            });\n            return contentStream;\n        }\n        // read file\n        return fs.createReadStream(content.path);\n    } else if (content && typeof content.href === 'string') {\n        if (this.disableUrlAccess) {\n            contentStream = new PassThrough();\n            setImmediate(function () {\n                contentStream.emit('error', new Error('Url access rejected for ' + content.href));\n            });\n            return contentStream;\n        }\n        // fetch URL\n        return fetch(content.href);\n    } else {\n        // pass string or buffer content as a stream\n        contentStream = new PassThrough();\n        setImmediate(function () {\n            contentStream.end(content || '');\n        });\n        return contentStream;\n    }\n};\n\n/**\n * Parses addresses. Takes in a single address or an array or an\n * array of address arrays (eg. To: [[first group], [second group],...])\n *\n * @param {Mixed} addresses Addresses to be parsed\n * @return {Array} An array of address objects\n */\nMimeNode.prototype._parseAddresses = function (addresses) {\n    return [].concat.apply([], [].concat(addresses).map(function (address) {\n        if (address && address.address) {\n            address = this._convertAddresses(address);\n        }\n        return addressparser(address);\n    }.bind(this)));\n};\n\n/**\n * Normalizes a header key, uses Camel-Case form, except for uppercase MIME-\n *\n * @param {String} key Key to be normalized\n * @return {String} key in Camel-Case form\n */\nMimeNode.prototype._normalizeHeaderKey = function (key) {\n    return (key || '').toString().\n        // no newlines in keys\n    replace(/\\r?\\n|\\r/g, ' ').\n    trim().toLowerCase().\n        // use uppercase words, except MIME\n    replace(/^X\\-SMTPAPI$|^(MIME|DKIM)\\b|^[a-z]|\\-(SPF|FBL|ID|MD5)$|\\-[a-z]/ig,\n            function (c) {\n                return c.toUpperCase();\n            }).\n        // special case\n    replace(/^Content\\-Features$/i, 'Content-features');\n};\n\n/**\n * Checks if the content type is multipart and defines boundary if needed.\n * Doesn't return anything, modifies object argument instead.\n *\n * @param {Object} structured Parsed header value for 'Content-Type' key\n */\nMimeNode.prototype._handleContentType = function (structured) {\n    this.contentType = structured.value.trim().toLowerCase();\n\n    this.multipart = this.contentType.split('/').reduce(function (prev, value) {\n        return prev === 'multipart' ? value : false;\n    });\n\n    if (this.multipart) {\n        this.boundary = structured.params.boundary = structured.params.boundary || this.boundary || this._generateBoundary();\n    } else {\n        this.boundary = false;\n    }\n};\n\n/**\n * Generates a multipart boundary value\n *\n * @return {String} boundary value\n */\nMimeNode.prototype._generateBoundary = function () {\n    return this.rootNode.boundaryPrefix + '-?=_' + this._nodeId + '-' + this.rootNode.baseBoundary;\n};\n\n/**\n * Encodes a header value for use in the generated rfc2822 email.\n *\n * @param {String} key Header key\n * @param {String} value Header value\n */\nMimeNode.prototype._encodeHeaderValue = function (key, value) {\n    key = this._normalizeHeaderKey(key);\n\n    switch (key) {\n\n        // Structured headers\n        case 'From':\n        case 'Sender':\n        case 'To':\n        case 'Cc':\n        case 'Bcc':\n        case 'Reply-To':\n            return this._convertAddresses(this._parseAddresses(value));\n\n            // values enclosed in <>\n        case 'Message-ID':\n        case 'In-Reply-To':\n        case 'Content-Id':\n            value = (value || '').toString().replace(/\\r?\\n|\\r/g, ' ');\n\n            if (value.charAt(0) !== '<') {\n                value = '<' + value;\n            }\n\n            if (value.charAt(value.length - 1) !== '>') {\n                value = value + '>';\n            }\n            return value;\n\n            // space separated list of values enclosed in <>\n        case 'References':\n            value = [].concat.apply([], [].concat(value || '').map(function (elm) {\n                elm = (elm || '').toString().replace(/\\r?\\n|\\r/g, ' ').trim();\n                return elm.replace(/<[^>]*>/g, function (str) {\n                    return str.replace(/\\s/g, '');\n                }).split(/\\s+/);\n            })).map(function (elm) {\n                if (elm.charAt(0) !== '<') {\n                    elm = '<' + elm;\n                }\n                if (elm.charAt(elm.length - 1) !== '>') {\n                    elm = elm + '>';\n                }\n                return elm;\n            });\n\n            return value.join(' ').trim();\n\n        case 'Date':\n            if (Object.prototype.toString.call(value) === '[object Date]') {\n                return value.toUTCString().replace(/GMT/, '+0000');\n            }\n\n            value = (value || '').toString().replace(/\\r?\\n|\\r/g, ' ');\n            return this._encodeWords(value);\n\n        default:\n            value = (value || '').toString().replace(/\\r?\\n|\\r/g, ' ');\n            // encodeWords only encodes if needed, otherwise the original string is returned\n            return this._encodeWords(value);\n    }\n};\n\n/**\n * Rebuilds address object using punycode and other adjustments\n *\n * @param {Array} addresses An array of address objects\n * @param {Array} [uniqueList] An array to be populated with addresses\n * @return {String} address string\n */\nMimeNode.prototype._convertAddresses = function (addresses, uniqueList) {\n    var values = [];\n\n    uniqueList = uniqueList || [];\n\n    [].concat(addresses || []).forEach(function (address) {\n        if (address.address) {\n            address.address = address.address.replace(/@.+$/, function (domain) {\n                // usernames are not touched and are kept as is even if these include unicode\n                // domains are punycoded by default\n                // 'jgeva.ee' will be converted to 'xn--jgeva-dua.ee'\n                // non-unicode domains are left as is\n                return '@' + punycode.toASCII(domain.substr(1));\n            });\n\n            if (!address.name) {\n                values.push(address.address);\n            } else if (address.name) {\n                values.push(this._encodeAddressName(address.name) + ' <' + address.address + '>');\n            }\n\n            if (address.address) {\n                if (!uniqueList.filter(\n                        function (a) {\n                            return a.address === address.address;\n                        }).length) {\n                    uniqueList.push(address);\n                }\n            }\n        } else if (address.group) {\n            values.push(this._encodeAddressName(address.name) + ':' + (address.group.length ? this._convertAddresses(address.group, uniqueList) : '').trim() + ';');\n        }\n    }.bind(this));\n\n    return values.join(', ');\n};\n\n/**\n * If needed, mime encodes the name part\n *\n * @param {String} name Name part of an address\n * @returns {String} Mime word encoded string if needed\n */\nMimeNode.prototype._encodeAddressName = function (name) {\n    if (!/^[\\w ']*$/.test(name)) {\n        if (/^[\\x20-\\x7e]*$/.test(name)) {\n            return '\"' + name.replace(/([\\\\\"])/g, '\\\\$1') + '\"';\n        } else {\n            return libmime.encodeWord(name, this._getTextEncoding(name), 52);\n        }\n    }\n    return name;\n};\n\n/**\n * If needed, mime encodes the name part\n *\n * @param {String} name Name part of an address\n * @returns {String} Mime word encoded string if needed\n */\nMimeNode.prototype._encodeWords = function (value) {\n    return libmime.encodeWords(value, this._getTextEncoding(value), 52);\n};\n\n/**\n * Detects best mime encoding for a text value\n *\n * @param {String} value Value to check for\n * @return {String} either 'Q' or 'B'\n */\nMimeNode.prototype._getTextEncoding = function (value) {\n    value = (value || '').toString();\n\n    var encoding = this.textEncoding;\n    var latinLen;\n    var nonLatinLen;\n\n    if (!encoding) {\n        // count latin alphabet symbols and 8-bit range symbols + control symbols\n        // if there are more latin characters, then use quoted-printable\n        // encoding, otherwise use base64\n        nonLatinLen = (value.match(/[\\x00-\\x08\\x0B\\x0C\\x0E-\\x1F\\u0080-\\uFFFF]/g) || []).length;\n        latinLen = (value.match(/[a-z]/gi) || []).length;\n        // if there are more latin symbols than binary/unicode, then prefer Q, otherwise B\n        encoding = nonLatinLen < latinLen ? 'Q' : 'B';\n    }\n    return encoding;\n};\n\n/**\n * Generates a message id\n *\n * @return {String} Random Message-ID value\n */\nMimeNode.prototype._generateMessageId = function () {\n    return '<' + [2, 2, 2, 6].reduce(\n            // crux to generate UUID-like random strings\n            function (prev, len) {\n                return prev + '-' + crypto.randomBytes(len).toString('hex');\n            }, crypto.randomBytes(4).toString('hex')) +\n        '@' +\n        // try to use the domain of the FROM address or fallback to server hostname\n        (this.getEnvelope().from || this.hostname || os.hostname() || 'localhost').split('@').pop() + '>';\n};\n"],"names":[],"mappings":"AAka8B;AAla9B;AAEA,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI,cAAc,OAAO,WAAW;AACpC,IAAI;;;;;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI;AAEJ,OAAO,OAAO,GAAG;AAEjB;;;;;;;;;;;;;CAaC,GACD,SAAS,SAAS,WAAW,EAAE,OAAO;IAClC,IAAI,CAAC,WAAW,GAAG;IAEnB,UAAU,WAAW,CAAC;IAEtB;;KAEC,GACD,IAAI,CAAC,YAAY,GAAG,QAAQ,YAAY,IAAI,KAAK,GAAG,GAAG,QAAQ,KAAK,KAAK,MAAM;IAC/E,IAAI,CAAC,cAAc,GAAG,QAAQ,cAAc,IAAI;IAEhD,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC,QAAQ,iBAAiB;IACpD,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC,QAAQ,gBAAgB;IAElD;;KAEC,GACD,IAAI,CAAC,IAAI,GAAG,IAAI;IAEhB;;KAEC,GACD,IAAI,CAAC,QAAQ,GAAG,QAAQ,QAAQ,IAAI,IAAI;IAExC;;KAEC,GACD,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,QAAQ,OAAO;IAEhC;;;KAGC,GACD,IAAI,QAAQ,QAAQ,EAAE;QAClB;;SAEC,GACD,IAAI,CAAC,QAAQ,GAAG,QAAQ,QAAQ;QAChC,IAAI,CAAC,aAAa;YACd,cAAc,QAAQ,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,GAAG;QACrE;IACJ;IAEA;;KAEC,GACD,IAAI,CAAC,YAAY,GAAG,CAAC,QAAQ,YAAY,IAAI,EAAE,EAAE,QAAQ,GAAG,IAAI,GAAG,MAAM,CAAC,GAAG,WAAW;IAExF;;KAEC,GACD,IAAI,CAAC,UAAU,GAAG,QAAQ,UAAU;IAEpC;;KAEC,GACD,IAAI,CAAC,QAAQ,GAAG,QAAQ,QAAQ;IAEhC;;KAEC,GACD,IAAI,CAAC,UAAU,GAAG,EAAE;IAEpB;;KAEC,GACD,IAAI,CAAC,OAAO,GAAG,EAAE,IAAI,CAAC,QAAQ,CAAC,WAAW;IAE1C;;KAEC,GACD,IAAI,CAAC,QAAQ,GAAG,EAAE;IAElB;;;KAGC,GACD,IAAI,CAAC,YAAY,GAAG;IAEpB;;;KAGC,GACD,IAAI,CAAC,aAAa,GAAG;IAErB;;;KAGC,GACD,IAAI,CAAC,SAAS,GAAG;IAEjB;;;KAGC,GACD,IAAI,CAAC,IAAI,GAAG;IAEZ;;;;KAIC,GACD,IAAI,CAAC,WAAW,GAAG,EAAE;IAErB;;KAEC,GACD,IAAI,aAAa;QACb,IAAI,CAAC,SAAS,CAAC,gBAAgB;IACnC;AACJ;AAEA,sBAAsB;AAEtB;;;;;;CAMC,GACD,SAAS,SAAS,CAAC,WAAW,GAAG,SAAU,WAAW,EAAE,OAAO;IAC3D,IAAI,CAAC,WAAW,OAAO,gBAAgB,UAAU;QAC7C,UAAU;QACV,cAAc;IAClB;IACA,IAAI,OAAO,IAAI,SAAS,aAAa;IACrC,IAAI,CAAC,WAAW,CAAC;IACjB,OAAO;AACX;AAEA;;;;;;CAMC,GACD,SAAS,SAAS,CAAC,WAAW,GAAG,SAAU,SAAS;IAEhD,IAAI,UAAU,QAAQ,KAAK,IAAI,CAAC,QAAQ,EAAE;QACtC,UAAU,QAAQ,GAAG,IAAI,CAAC,QAAQ;QAClC,UAAU,OAAO,GAAG,EAAE,IAAI,CAAC,QAAQ,CAAC,WAAW;IACnD;IAEA,UAAU,UAAU,GAAG,IAAI;IAE3B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;IACrB,OAAO;AACX;AAEA;;;;;CAKC,GACD,SAAS,SAAS,CAAC,OAAO,GAAG,SAAU,IAAI;IACvC,IAAI,SAAS,IAAI,EAAE;QACf,OAAO,IAAI;IACf;IAEA,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,OAAO,CAAC,CAAA,SAAU,SAAS,EAAE,CAAC;QACrD,IAAI,cAAc,IAAI,EAAE;YAEpB,KAAK,QAAQ,GAAG,IAAI,CAAC,QAAQ;YAC7B,KAAK,UAAU,GAAG,IAAI,CAAC,UAAU;YACjC,KAAK,OAAO,GAAG,IAAI,CAAC,OAAO;YAE3B,IAAI,CAAC,QAAQ,GAAG,IAAI;YACpB,IAAI,CAAC,UAAU,GAAG;YAElB,KAAK,UAAU,CAAC,UAAU,CAAC,EAAE,GAAG;QACpC;IACJ,CAAA,EAAE,IAAI,CAAC,IAAI;IAEX,OAAO;AACX;AAEA;;;;CAIC,GACD,SAAS,SAAS,CAAC,MAAM,GAAG;IACxB,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;QAClB,OAAO,IAAI;IACf;IAEA,IAAK,IAAI,IAAI,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,GAAG,GAAG,KAAK,GAAG,IAAK;QAC7D,IAAI,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,EAAE,KAAK,IAAI,EAAE;YACxC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG;YACrC,IAAI,CAAC,UAAU,GAAG;YAClB,IAAI,CAAC,QAAQ,GAAG,IAAI;YACpB,OAAO,IAAI;QACf;IACJ;AACJ;AAEA;;;;;;;;CAQC,GACD,SAAS,SAAS,CAAC,SAAS,GAAG,SAAU,GAAG,EAAE,KAAK;IAC/C,IAAI,QAAQ,OACR;IAEJ,yCAAyC;IACzC,IAAI,CAAC,SAAS,OAAO,OAAO,QAAQ,UAAU;QAC1C,kDAAkD;QAClD,IAAI,IAAI,GAAG,IAAI,WAAW,KAAK;YAC3B,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,EAAE,IAAI,KAAK;QACrC,OAEK,IAAI,MAAM,OAAO,CAAC,MAAM;YACzB,IAAI,OAAO,CAAC,CAAA,SAAU,CAAC;gBACnB,IAAI,CAAC,SAAS,CAAC,EAAE,GAAG,EAAE,EAAE,KAAK;YACjC,CAAA,EAAE,IAAI,CAAC,IAAI;QACf,OAEK;YACD,OAAO,IAAI,CAAC,KAAK,OAAO,CAAC,CAAA,SAAU,CAAC;gBAChC,IAAI,CAAC,SAAS,CAAC,GAAG,GAAG,CAAC,EAAE;YAC5B,CAAA,EAAE,IAAI,CAAC,IAAI;QACf;QACA,OAAO,IAAI;IACf;IAEA,MAAM,IAAI,CAAC,mBAAmB,CAAC;IAE/B,cAAc;QACV,KAAK;QACL,OAAO;IACX;IAEA,0CAA0C;IAC1C,IAAK,IAAI,IAAI,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,KAAK,IAAK;QACtD,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAG,KAAK,KAAK;YAC9B,IAAI,CAAC,OAAO;gBACR,0BAA0B;gBAC1B,IAAI,CAAC,QAAQ,CAAC,EAAE,GAAG;gBACnB,QAAQ;YACZ,OAAO;gBACH,2BAA2B;gBAC3B,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG;gBACxB;gBACA;YACJ;QACJ;IACJ;IAEA,oCAAoC;IACpC,IAAI,CAAC,OAAO;QACR,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;IACvB;IAEA,OAAO,IAAI;AACf;AAEA;;;;;;;;;CASC,GACD,SAAS,SAAS,CAAC,SAAS,GAAG,SAAU,GAAG,EAAE,KAAK;IAE/C,yCAAyC;IACzC,IAAI,CAAC,SAAS,OAAO,OAAO,QAAQ,UAAU;QAC1C,kDAAkD;QAClD,IAAI,IAAI,GAAG,IAAI,IAAI,KAAK,EAAE;YACtB,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,EAAE,IAAI,KAAK;QACrC,OAEK,IAAI,MAAM,OAAO,CAAC,MAAM;YACzB,IAAI,OAAO,CAAC,CAAA,SAAU,CAAC;gBACnB,IAAI,CAAC,SAAS,CAAC,EAAE,GAAG,EAAE,EAAE,KAAK;YACjC,CAAA,EAAE,IAAI,CAAC,IAAI;QACf,OAEK;YACD,OAAO,IAAI,CAAC,KAAK,OAAO,CAAC,CAAA,SAAU,CAAC;gBAChC,IAAI,CAAC,SAAS,CAAC,GAAG,GAAG,CAAC,EAAE;YAC5B,CAAA,EAAE,IAAI,CAAC,IAAI;QACf;QACA,OAAO,IAAI;IACf,OAAO,IAAI,MAAM,OAAO,CAAC,QAAQ;QAC7B,MAAM,OAAO,CAAC,CAAA,SAAU,GAAG;YACvB,IAAI,CAAC,SAAS,CAAC,KAAK;QACxB,CAAA,EAAE,IAAI,CAAC,IAAI;QACX,OAAO,IAAI;IACf;IAEA,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;QACf,KAAK,IAAI,CAAC,mBAAmB,CAAC;QAC9B,OAAO;IACX;IAEA,OAAO,IAAI;AACf;AAEA;;;;;CAKC,GACD,SAAS,SAAS,CAAC,SAAS,GAAG,SAAU,GAAG;IACxC,MAAM,IAAI,CAAC,mBAAmB,CAAC;IAC/B,IAAK,IAAI,IAAI,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,KAAK,IAAK;QACtD,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAG,KAAK,KAAK;YAC9B,OAAO,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,KAAK;QACjC;IACJ;AACJ;AAEA;;;;;;;CAOC,GACD,SAAS,SAAS,CAAC,UAAU,GAAG,SAAU,OAAO;IAC7C,IAAI,QAAQ,IAAI;IAChB,IAAI,CAAC,OAAO,GAAG;IACf,IAAI,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,KAAK,YAAY;QACzC,uEAAuE;QACvE,6DAA6D;QAC7D,IAAI,CAAC,oBAAoB,GAAG,SAAU,GAAG;YACrC,MAAM,OAAO,CAAC,cAAc,CAAC,SAAS,MAAM,oBAAoB;YAChE,MAAM,OAAO,GAAG;QACpB;QACA,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,IAAI,CAAC,oBAAoB;IACxD,OAAO,IAAI,OAAO,IAAI,CAAC,OAAO,KAAK,UAAU;QACzC,IAAI,CAAC,YAAY,GAAG,QAAQ,WAAW,CAAC,IAAI,CAAC,OAAO;QACpD,IAAI,IAAI,CAAC,YAAY,IAAI,QAAQ,cAAc,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK;YAC/D,kEAAkE;YAClE,IAAI,CAAC,aAAa,GAAG;QACzB;IACJ;IACA,OAAO,IAAI;AACf;AAEA,SAAS,SAAS,CAAC,KAAK,GAAG,SAAU,QAAQ;IACzC,IAAI,SAAS,IAAI,CAAC,gBAAgB;IAClC,IAAI,MAAM,EAAE;IACZ,IAAI,SAAS;IACb,IAAI,WAAW;IAEf,OAAO,EAAE,CAAC,YAAY;QAClB,IAAI;QAEJ,MAAO,CAAC,QAAQ,OAAO,IAAI,EAAE,MAAM,KAAM;YACrC,IAAI,IAAI,CAAC;YACT,UAAU,MAAM,MAAM;QAC1B;IACJ;IAEA,OAAO,IAAI,CAAC,SAAS,SAAU,GAAG;QAC9B,IAAI,UAAU;YACV;QACJ;QACA,WAAW;QAEX,OAAO,SAAS;IACpB;IAEA,OAAO,IAAI,CAAC,OAAO,SAAU,KAAK;QAC9B,IAAI,UAAU;YACV;QACJ;QACA,WAAW;QAEX,IAAI,SAAS,MAAM,MAAM,EAAE;YACvB,IAAI,IAAI,CAAC;YACT,UAAU,MAAM,MAAM;QAC1B;QACA,OAAO,SAAS,MAAM,oNAAM,CAAC,MAAM,CAAC,KAAK;IAC7C;AACJ;AAEA,SAAS,SAAS,CAAC,mBAAmB,GAAG;IACrC,IAAI,mBAAmB;IACvB,IAAI,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,mBAAmB,EAAE,EAAE,QAAQ,GAAG,WAAW,GAAG,IAAI;IAEtF,IAAI,IAAI,CAAC,OAAO,EAAE;QACd,mBAAmB,CAAC,IAAI,CAAC,SAAS,CAAC,gCAAgC,EAAE,EAAE,QAAQ,GAAG,WAAW,GAAG,IAAI;QACpG,IAAI,CAAC,oBAAoB;YAAC;YAAU;SAAmB,CAAC,OAAO,CAAC,oBAAoB,GAAG;YACnF,IAAI,WAAW,IAAI,CAAC,cAAc;gBAC9B,8DAA8D;gBAC9D,IAAI,IAAI,CAAC,YAAY,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;oBAC1C,mBAAmB;gBACvB,OAAO,IAAI,OAAO,IAAI,CAAC,OAAO,KAAK,YAAY,IAAI,CAAC,OAAO,YAAY,oNAAM,EAAE;oBAC3E,6CAA6C;oBAC7C,mBAAmB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,MAAM,MAAM,qBAAqB;gBAC1F,OAAO;oBACH,4FAA4F;oBAC5F,mBAAmB,IAAI,CAAC,gBAAgB,KAAK,MAAM,WAAW;gBAClE;YACJ,OAAO,IAAI,CAAC,0BAA0B,IAAI,CAAC,cAAc;gBACrD,mBAAmB,oBAAoB;YAC3C;QACJ;IACJ;IACA,OAAO;AACX;AAEA;;;;CAIC,GACD,SAAS,SAAS,CAAC,YAAY,GAAG;IAC9B,IAAI,QAAQ,IAAI;IAChB,IAAI,mBAAmB,IAAI,CAAC,mBAAmB;IAC/C,IAAI,UAAU,EAAE;IAEhB,IAAI,kBAAkB;QAClB,IAAI,CAAC,SAAS,CAAC,6BAA6B;IAChD;IAEA,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,wBAAwB;QACzD,IAAI,CAAC,SAAS,CAAC,uBAAuB;IAC1C;IAEA,iCAAiC;IACjC,IAAI,IAAI,CAAC,QAAQ,KAAK,IAAI,EAAE;QACxB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS;YACzB,IAAI,CAAC,SAAS,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,OAAO;QAClE;QAEA,oCAAoC;QACpC,IAAI,CAAC,SAAS;QAEd,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,iBAAiB;YACjC,IAAI,CAAC,SAAS,CAAC,gBAAgB;QACnC;IACJ;IAEA,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAA,SAAU,MAAM;QAClC,IAAI,MAAM,OAAO,GAAG;QACpB,IAAI,QAAQ,OAAO,KAAK;QACxB,IAAI;QACJ,IAAI;QACJ,IAAI,UAAU,CAAC;QACf,IAAI,mBAAmB;YAAC;YAAQ;YAAU;YAAM;YAAM;YAAO;YAAY;YAAQ;SAAa;QAE9F,IAAI,SAAS,iBAAiB,OAAO,CAAC,OAAO,KAAK,OAAO,UAAU,UAAU;YACzE,OAAO,IAAI,CAAC,OAAO,OAAO,CAAC,SAAU,GAAG;gBACpC,IAAI,QAAQ,SAAS;oBACjB,OAAO,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI;gBAC7B;YACJ;YACA,QAAQ,CAAC,MAAM,KAAK,IAAI,EAAE,EAAE,QAAQ;YACpC,IAAI,CAAC,MAAM,IAAI,IAAI;gBACf;YACJ;QACJ;QAEA,IAAI,QAAQ,QAAQ,EAAE;YAClB,kBAAkB;YAClB,QAAQ,IAAI,CAAC,MAAM,OAAO;YAC1B;QACJ;QAEA,OAAQ,OAAO,GAAG;YACd,KAAK;gBACD,aAAa,QAAQ,gBAAgB,CAAC;gBACtC,IAAI,MAAM,QAAQ,EAAE;oBAChB,WAAW,MAAM,CAAC,QAAQ,GAAG,MAAM,QAAQ;gBAC/C;gBACA,QAAQ,QAAQ,gBAAgB,CAAC;gBACjC;YACJ,KAAK;gBACD,aAAa,QAAQ,gBAAgB,CAAC;gBAEtC,MAAM,kBAAkB,CAAC;gBAEzB,IAAI,WAAW,KAAK,CAAC,KAAK,CAAC,qBAAqB,OAAO,MAAM,OAAO,KAAK,YAAY,kBAAkB,IAAI,CAAC,MAAM,OAAO,GAAG;oBACxH,WAAW,MAAM,CAAC,OAAO,GAAG;gBAChC;gBAEA,QAAQ,QAAQ,gBAAgB,CAAC;gBAEjC,IAAI,MAAM,QAAQ,EAAE;oBAChB,wDAAwD;oBACxD,kFAAkF;oBAClF,4EAA4E;oBAC5E,QAAQ,IAAI,CAAC,YAAY,CAAC,MAAM,QAAQ;oBACxC,IAAI,UAAU,MAAM,QAAQ,IAAI,UAAU,IAAI,CAAC,QAAQ;wBACnD,oCAAoC;wBACpC,QAAQ,MAAM,QAAQ;oBAC1B;oBACA,SAAS,YAAY;gBACzB;gBACA;YACJ,KAAK;gBACD,IAAI,CAAC,MAAM,OAAO,EAAE;oBAChB,kBAAkB;oBAClB;gBACJ;gBACA;QACR;QAEA,QAAQ,MAAM,kBAAkB,CAAC,KAAK;QAEtC,mBAAmB;QACnB,IAAI,CAAC,CAAC,SAAS,EAAE,EAAE,QAAQ,GAAG,IAAI,IAAI;YAClC;QACJ;QAEA,QAAQ,IAAI,CAAC,QAAQ,SAAS,CAAC,MAAM,OAAO,OAAO;IACvD,CAAA,EAAE,IAAI,CAAC,IAAI;IAEX,OAAO,QAAQ,IAAI,CAAC;AACxB;AAEA;;;;;CAKC,GACD,SAAS,SAAS,CAAC,gBAAgB,GAAG,SAAU,OAAO;IACnD,UAAU,WAAW,CAAC;IAEtB,IAAI,eAAe,IAAI,YAAY;IACnC,IAAI;IAEJ,IAAI,CAAC,MAAM,CAAC,cAAc,SAAS,SAAU,GAAG;QAC5C,IAAI,KAAK;YACL,aAAa,IAAI,CAAC,SAAS;YAC3B;QACJ;QACA,aAAa,GAAG;IACpB;IAEA,IAAK,IAAI,IAAI,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,IAAI,KAAK,IAAK;QACzD,YAAY,OAAO,IAAI,CAAC,WAAW,CAAC,EAAE,KAAK,aAAa,IAAI,CAAC,WAAW,CAAC,EAAE,KAAK,IAAI,CAAC,WAAW,CAAC,EAAE;QACnG,aAAa,IAAI,CAAC,SAAS,SAAU,GAAG;YACpC,UAAU,IAAI,CAAC,SAAS;QAC5B;QACA,eAAe,aAAa,IAAI,CAAC;IACrC;IAEA,OAAO;AACX;AAEA;;;;;CAKC,GACD,SAAS,SAAS,CAAC,SAAS,GAAG,SAAU,SAAS;IAC9C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;AAC1B;AAEA,SAAS,SAAS,CAAC,MAAM,GAAG,SAAU,YAAY,EAAE,OAAO,EAAE,IAAI;IAC7D,IAAI,QAAQ,IAAI;IAChB,IAAI,mBAAmB,IAAI,CAAC,mBAAmB;IAC/C,IAAI;IACJ,IAAI;IAEJ,sDAAsD;IACtD,IAAI,WAAW;IACf,IAAI,WAAW,SAAU,GAAG;QACxB,IAAI,UAAU;YACV;QACJ;QACA,WAAW;QACX,KAAK;IACT;IAEA,sBAAsB;IACtB,SAAS;QACL,IAAI,MAAM,OAAO,EAAE;YAEf,IAAI,OAAO,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,OAAO,MAAM,kBAAkB;gBACpE,6BAA6B;gBAC7B,OAAO,SAAS,MAAM,OAAO;YACjC;YAEA,IAAI,OAAO,MAAM,OAAO,CAAC,IAAI,KAAK,YAAY;gBAC1C,MAAM,OAAO,CAAC,cAAc,CAAC,SAAS,MAAM,oBAAoB;gBAChE,MAAM,oBAAoB,GAAG,SAAU,GAAG;oBACtC,OAAO,SAAS;gBACpB;gBACA,MAAM,OAAO,CAAC,IAAI,CAAC,SAAS,MAAM,oBAAoB;YAC1D;YAEA,IAAI;gBAAC;gBAAoB;aAAS,CAAC,OAAO,CAAC,qBAAqB,GAAG;gBAC/D,gBAAgB,IAAG,CAAC,qBAAqB,WAAW,YAAY,KAAK,EAAE,OAAO,CAAC;gBAE/E,cAAc,IAAI,CAAC,cAAc;oBAC7B,KAAK;gBACT;gBACA,cAAc,IAAI,CAAC,OAAO;gBAC1B,cAAc,IAAI,CAAC,SAAS,SAAU,GAAG;oBACrC,OAAO,SAAS;gBACpB;gBAEA,cAAc,MAAM,UAAU,CAAC,MAAM,OAAO;gBAC5C,YAAY,IAAI,CAAC;YACrB,OAAO;gBACH,iDAAiD;gBACjD,cAAc,MAAM,UAAU,CAAC,MAAM,OAAO;gBAC5C,YAAY,IAAI,CAAC,cAAc;oBAC3B,KAAK;gBACT;gBACA,YAAY,IAAI,CAAC,OAAO;YAC5B;YAEA,YAAY,IAAI,CAAC,SAAS,SAAU,GAAG;gBACnC,OAAO,SAAS;YACpB;YAEA;QACJ,OAAO;YACH,OAAO,aAAa;QACxB;IACJ;IAEA,wCAAwC;IACxC,mCAAmC;IACnC,SAAS;QACL,IAAI,UAAU;QACd,IAAI,mBAAmB;YACnB,IAAI,WAAW,MAAM,UAAU,CAAC,MAAM,EAAE;gBACpC,aAAa,KAAK,CAAC,WAAW,MAAM,QAAQ,GAAG;gBAC/C,OAAO;YACX;YACA,IAAI,QAAQ,MAAM,UAAU,CAAC,UAAU;YACvC,aAAa,KAAK,CAAC,CAAC,UAAU,IAAI,SAAS,EAAE,IAAI,OAAO,MAAM,QAAQ,GAAG;YACzE,MAAM,MAAM,CAAC,cAAc,SAAS,SAAU,GAAG;gBAC7C,IAAI,KAAK;oBACL,OAAO,SAAS;gBACpB;gBACA,aAAa;YACjB;QACJ;QAEA,IAAI,MAAM,SAAS,EAAE;YACjB,aAAa;QACjB,OAAO;YACH,OAAO;QACX;IACJ;IAEA,IAAI,IAAI,CAAC,IAAI,EAAE;QACX,aAAa;YACT,IAAI,OAAO,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,IAAI,MAAM,kBAAkB;gBACjE,6BAA6B;gBAC7B,OAAO,SAAS,MAAM,IAAI;YAC9B;YAEA,wCAAwC;YACxC,IAAI,OAAO,MAAM,IAAI,CAAC,IAAI,KAAK,YAAY;gBACvC,MAAM,IAAI,CAAC,cAAc,CAAC,SAAS,MAAM,oBAAoB;YACjE;YAEA,IAAI,MAAM,MAAM,UAAU,CAAC,MAAM,IAAI;YACrC,IAAI,IAAI,CAAC,cAAc;gBACnB,KAAK;YACT;YACA,IAAI,EAAE,CAAC,SAAS,SAAU,GAAG;gBACzB,aAAa,IAAI,CAAC,SAAS;YAC/B;YACA,IAAI,EAAE,CAAC,OAAO;QAClB;IACJ,OAAO;QACH,aAAa,KAAK,CAAC,IAAI,CAAC,YAAY,KAAK;QACzC,aAAa;IACjB;AACJ;AAEA;;;;CAIC,GACD,SAAS,SAAS,CAAC,WAAW,GAAG,SAAU,QAAQ;IAC/C,IAAI;IAEJ,IAAI,CAAC,SAAS,GAAG;QACb,MAAM;QACN,IAAI,EAAE;IACV;IAEA,IAAI,SAAS,IAAI,EAAE;QACf,OAAO,EAAE;QACT,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,IAAI,GAAG;QAC5D,OAAO,KAAK,MAAM,CAAC,SAAU,OAAO;YAChC,OAAO,WAAW,QAAQ,OAAO;QACrC;QACA,IAAI,KAAK,MAAM,IAAI,IAAI,CAAC,EAAE,EAAE;YACxB,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,OAAO;QACzC;IACJ;IACA;QAAC;QAAM;QAAM;KAAM,CAAC,OAAO,CAAC,CAAA,SAAU,GAAG;QACrC,IAAI,QAAQ,CAAC,IAAI,EAAE;YACf,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,EAAE;QACjF;IACJ,CAAA,EAAE,IAAI,CAAC,IAAI;IAEX,IAAI,CAAC,SAAS,CAAC,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,GAAG,CAAC,SAAU,EAAE;QAClD,OAAO,GAAG,OAAO;IACrB,GAAG,MAAM,CAAC,SAAU,OAAO;QACvB,OAAO;IACX;IAEA,OAAO,IAAI;AACf;AAEA;;;;CAIC,GACD,SAAS,SAAS,CAAC,YAAY,GAAG;IAC9B,IAAI,YAAY,CAAC;IAEjB,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAA,SAAU,MAAM;QAClC,IAAI,MAAM,OAAO,GAAG,CAAC,WAAW;QAChC,IAAI;YAAC;YAAQ;YAAU;YAAY;YAAM;YAAM;SAAM,CAAC,OAAO,CAAC,QAAQ,GAAG;YACrE,IAAI,CAAC,MAAM,OAAO,CAAC,SAAS,CAAC,IAAI,GAAG;gBAChC,SAAS,CAAC,IAAI,GAAG,EAAE;YACvB;YAEA,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,eAAe,CAAC,OAAO,KAAK,GAAG,SAAS,CAAC,IAAI;QAC7E;IACJ,CAAA,EAAE,IAAI,CAAC,IAAI;IAEX,OAAO;AACX;AAEA;;;;CAIC,GACD,SAAS,SAAS,CAAC,WAAW,GAAG;IAC7B,IAAI,IAAI,CAAC,SAAS,EAAE;QAChB,OAAO,IAAI,CAAC,SAAS;IACzB;IAEA,IAAI,WAAW;QACX,MAAM;QACN,IAAI,EAAE;IACV;IACA,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAA,SAAU,MAAM;QAClC,IAAI,OAAO,EAAE;QACb,IAAI,OAAO,GAAG,KAAK,UAAW,CAAC,SAAS,IAAI,IAAI;YAAC;YAAY;SAAS,CAAC,OAAO,CAAC,OAAO,GAAG,KAAK,GAAI;YAC9F,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,eAAe,CAAC,OAAO,KAAK,GAAG;YAC3D,IAAI,KAAK,MAAM,IAAI,IAAI,CAAC,EAAE,EAAE;gBACxB,SAAS,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,OAAO;YACnC;QACJ,OAAO,IAAI;YAAC;YAAM;YAAM;SAAM,CAAC,OAAO,CAAC,OAAO,GAAG,KAAK,GAAG;YACrD,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,eAAe,CAAC,OAAO,KAAK,GAAG,SAAS,EAAE;QAC1E;IACJ,CAAA,EAAE,IAAI,CAAC,IAAI;IAEX,SAAS,EAAE,GAAG,SAAS,EAAE,CAAC,GAAG,CAAC,SAAU,EAAE;QACtC,OAAO,GAAG,OAAO;IACrB;IAEA,OAAO;AACX;AAEA;;;;CAIC,GACD,SAAS,SAAS,CAAC,SAAS,GAAG;IAC3B,IAAI,YAAY,IAAI,CAAC,SAAS,CAAC;IAC/B,sDAAsD;IACtD,IAAI,CAAC,WAAW;QACZ,YAAY,IAAI,CAAC,kBAAkB;QACnC,IAAI,CAAC,SAAS,CAAC,cAAc;IACjC;IACA,OAAO;AACX;AAEA;;;;CAIC,GACD,SAAS,SAAS,CAAC,MAAM,GAAG,SAAU,GAAG;IACrC,IAAI,QAAQ,IAAI;IAEhB,IAAI,CAAC,IAAI,GAAG;IAEZ,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,KAAK,YAAY;QACnD,uEAAuE;QACvE,6DAA6D;QAC7D,IAAI,CAAC,oBAAoB,GAAG,SAAU,GAAG;YACrC,MAAM,IAAI,CAAC,cAAc,CAAC,SAAS,MAAM,oBAAoB;YAC7D,MAAM,IAAI,GAAG;QACjB;QACA,MAAM,IAAI,CAAC,IAAI,CAAC,SAAS,IAAI,CAAC,oBAAoB;IACtD;IAEA,OAAO,IAAI;AACf;AAEA,uBAAuB;AAEvB;;;;;CAKC,GACD,SAAS,SAAS,CAAC,UAAU,GAAG,SAAU,OAAO;IAC7C,IAAI;IAEJ,IAAI,OAAO,QAAQ,IAAI,KAAK,YAAY;QACpC,mBAAmB;QACnB,OAAO;IACX,OAAO,IAAI,WAAW,OAAO,QAAQ,IAAI,KAAK,YAAY,CAAC,QAAQ,IAAI,EAAE;QACrE,IAAI,IAAI,CAAC,iBAAiB,EAAE;YACxB,gBAAgB,IAAI;YACpB,aAAa;gBACT,cAAc,IAAI,CAAC,SAAS,IAAI,MAAM,8BAA8B,QAAQ,IAAI;YACpF;YACA,OAAO;QACX;QACA,YAAY;QACZ,OAAO,GAAG,gBAAgB,CAAC,QAAQ,IAAI;IAC3C,OAAO,IAAI,WAAW,OAAO,QAAQ,IAAI,KAAK,UAAU;QACpD,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACvB,gBAAgB,IAAI;YACpB,aAAa;gBACT,cAAc,IAAI,CAAC,SAAS,IAAI,MAAM,6BAA6B,QAAQ,IAAI;YACnF;YACA,OAAO;QACX;QACA,YAAY;QACZ,OAAO,MAAM,QAAQ,IAAI;IAC7B,OAAO;QACH,4CAA4C;QAC5C,gBAAgB,IAAI;QACpB,aAAa;YACT,cAAc,GAAG,CAAC,WAAW;QACjC;QACA,OAAO;IACX;AACJ;AAEA;;;;;;CAMC,GACD,SAAS,SAAS,CAAC,eAAe,GAAG,SAAU,SAAS;IACpD,OAAO,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,EAAE,EAAE,CAAC,MAAM,CAAC,WAAW,GAAG,CAAC,CAAA,SAAU,OAAO;QACjE,IAAI,WAAW,QAAQ,OAAO,EAAE;YAC5B,UAAU,IAAI,CAAC,iBAAiB,CAAC;QACrC;QACA,OAAO,cAAc;IACzB,CAAA,EAAE,IAAI,CAAC,IAAI;AACf;AAEA;;;;;CAKC,GACD,SAAS,SAAS,CAAC,mBAAmB,GAAG,SAAU,GAAG;IAClD,OAAO,CAAC,OAAO,EAAE,EAAE,QAAQ,GACvB,sBAAsB;IAC1B,OAAO,CAAC,aAAa,KACrB,IAAI,GAAG,WAAW,GACd,mCAAmC;IACvC,OAAO,CAAC,oEACA,SAAU,CAAC;QACP,OAAO,EAAE,WAAW;IACxB,GACJ,eAAe;IACnB,OAAO,CAAC,wBAAwB;AACpC;AAEA;;;;;CAKC,GACD,SAAS,SAAS,CAAC,kBAAkB,GAAG,SAAU,UAAU;IACxD,IAAI,CAAC,WAAW,GAAG,WAAW,KAAK,CAAC,IAAI,GAAG,WAAW;IAEtD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,MAAM,CAAC,SAAU,IAAI,EAAE,KAAK;QACrE,OAAO,SAAS,cAAc,QAAQ;IAC1C;IAEA,IAAI,IAAI,CAAC,SAAS,EAAE;QAChB,IAAI,CAAC,QAAQ,GAAG,WAAW,MAAM,CAAC,QAAQ,GAAG,WAAW,MAAM,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,iBAAiB;IACtH,OAAO;QACH,IAAI,CAAC,QAAQ,GAAG;IACpB;AACJ;AAEA;;;;CAIC,GACD,SAAS,SAAS,CAAC,iBAAiB,GAAG;IACnC,OAAO,IAAI,CAAC,QAAQ,CAAC,cAAc,GAAG,SAAS,IAAI,CAAC,OAAO,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,YAAY;AAClG;AAEA;;;;;CAKC,GACD,SAAS,SAAS,CAAC,kBAAkB,GAAG,SAAU,GAAG,EAAE,KAAK;IACxD,MAAM,IAAI,CAAC,mBAAmB,CAAC;IAE/B,OAAQ;QAEJ,qBAAqB;QACrB,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;YACD,OAAO,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,eAAe,CAAC;QAEnD,wBAAwB;QAC5B,KAAK;QACL,KAAK;QACL,KAAK;YACD,QAAQ,CAAC,SAAS,EAAE,EAAE,QAAQ,GAAG,OAAO,CAAC,aAAa;YAEtD,IAAI,MAAM,MAAM,CAAC,OAAO,KAAK;gBACzB,QAAQ,MAAM;YAClB;YAEA,IAAI,MAAM,MAAM,CAAC,MAAM,MAAM,GAAG,OAAO,KAAK;gBACxC,QAAQ,QAAQ;YACpB;YACA,OAAO;QAEP,gDAAgD;QACpD,KAAK;YACD,QAAQ,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,EAAE,EAAE,CAAC,MAAM,CAAC,SAAS,IAAI,GAAG,CAAC,SAAU,GAAG;gBAChE,MAAM,CAAC,OAAO,EAAE,EAAE,QAAQ,GAAG,OAAO,CAAC,aAAa,KAAK,IAAI;gBAC3D,OAAO,IAAI,OAAO,CAAC,YAAY,SAAU,GAAG;oBACxC,OAAO,IAAI,OAAO,CAAC,OAAO;gBAC9B,GAAG,KAAK,CAAC;YACb,IAAI,GAAG,CAAC,SAAU,GAAG;gBACjB,IAAI,IAAI,MAAM,CAAC,OAAO,KAAK;oBACvB,MAAM,MAAM;gBAChB;gBACA,IAAI,IAAI,MAAM,CAAC,IAAI,MAAM,GAAG,OAAO,KAAK;oBACpC,MAAM,MAAM;gBAChB;gBACA,OAAO;YACX;YAEA,OAAO,MAAM,IAAI,CAAC,KAAK,IAAI;QAE/B,KAAK;YACD,IAAI,OAAO,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,iBAAiB;gBAC3D,OAAO,MAAM,WAAW,GAAG,OAAO,CAAC,OAAO;YAC9C;YAEA,QAAQ,CAAC,SAAS,EAAE,EAAE,QAAQ,GAAG,OAAO,CAAC,aAAa;YACtD,OAAO,IAAI,CAAC,YAAY,CAAC;QAE7B;YACI,QAAQ,CAAC,SAAS,EAAE,EAAE,QAAQ,GAAG,OAAO,CAAC,aAAa;YACtD,gFAAgF;YAChF,OAAO,IAAI,CAAC,YAAY,CAAC;IACjC;AACJ;AAEA;;;;;;CAMC,GACD,SAAS,SAAS,CAAC,iBAAiB,GAAG,SAAU,SAAS,EAAE,UAAU;IAClE,IAAI,SAAS,EAAE;IAEf,aAAa,cAAc,EAAE;IAE7B,EAAE,CAAC,MAAM,CAAC,aAAa,EAAE,EAAE,OAAO,CAAC,CAAA,SAAU,OAAO;QAChD,IAAI,QAAQ,OAAO,EAAE;YACjB,QAAQ,OAAO,GAAG,QAAQ,OAAO,CAAC,OAAO,CAAC,QAAQ,SAAU,MAAM;gBAC9D,6EAA6E;gBAC7E,mCAAmC;gBACnC,sDAAsD;gBACtD,qCAAqC;gBACrC,OAAO,MAAM,SAAS,OAAO,CAAC,OAAO,MAAM,CAAC;YAChD;YAEA,IAAI,CAAC,QAAQ,IAAI,EAAE;gBACf,OAAO,IAAI,CAAC,QAAQ,OAAO;YAC/B,OAAO,IAAI,QAAQ,IAAI,EAAE;gBACrB,OAAO,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,QAAQ,IAAI,IAAI,OAAO,QAAQ,OAAO,GAAG;YACjF;YAEA,IAAI,QAAQ,OAAO,EAAE;gBACjB,IAAI,CAAC,WAAW,MAAM,CACd,SAAU,CAAC;oBACP,OAAO,EAAE,OAAO,KAAK,QAAQ,OAAO;gBACxC,GAAG,MAAM,EAAE;oBACf,WAAW,IAAI,CAAC;gBACpB;YACJ;QACJ,OAAO,IAAI,QAAQ,KAAK,EAAE;YACtB,OAAO,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,QAAQ,IAAI,IAAI,MAAM,CAAC,QAAQ,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,QAAQ,KAAK,EAAE,cAAc,EAAE,EAAE,IAAI,KAAK;QACvJ;IACJ,CAAA,EAAE,IAAI,CAAC,IAAI;IAEX,OAAO,OAAO,IAAI,CAAC;AACvB;AAEA;;;;;CAKC,GACD,SAAS,SAAS,CAAC,kBAAkB,GAAG,SAAU,IAAI;IAClD,IAAI,CAAC,YAAY,IAAI,CAAC,OAAO;QACzB,IAAI,iBAAiB,IAAI,CAAC,OAAO;YAC7B,OAAO,MAAM,KAAK,OAAO,CAAC,YAAY,UAAU;QACpD,OAAO;YACH,OAAO,QAAQ,UAAU,CAAC,MAAM,IAAI,CAAC,gBAAgB,CAAC,OAAO;QACjE;IACJ;IACA,OAAO;AACX;AAEA;;;;;CAKC,GACD,SAAS,SAAS,CAAC,YAAY,GAAG,SAAU,KAAK;IAC7C,OAAO,QAAQ,WAAW,CAAC,OAAO,IAAI,CAAC,gBAAgB,CAAC,QAAQ;AACpE;AAEA;;;;;CAKC,GACD,SAAS,SAAS,CAAC,gBAAgB,GAAG,SAAU,KAAK;IACjD,QAAQ,CAAC,SAAS,EAAE,EAAE,QAAQ;IAE9B,IAAI,WAAW,IAAI,CAAC,YAAY;IAChC,IAAI;IACJ,IAAI;IAEJ,IAAI,CAAC,UAAU;QACX,yEAAyE;QACzE,gEAAgE;QAChE,iCAAiC;QACjC,cAAc,CAAC,MAAM,KAAK,CAAC,iDAAiD,EAAE,EAAE,MAAM;QACtF,WAAW,CAAC,MAAM,KAAK,CAAC,cAAc,EAAE,EAAE,MAAM;QAChD,kFAAkF;QAClF,WAAW,cAAc,WAAW,MAAM;IAC9C;IACA,OAAO;AACX;AAEA;;;;CAIC,GACD,SAAS,SAAS,CAAC,kBAAkB,GAAG;IACpC,OAAO,MAAM;QAAC;QAAG;QAAG;QAAG;KAAE,CAAC,MAAM,CACxB,4CAA4C;IAC5C,SAAU,IAAI,EAAE,GAAG;QACf,OAAO,OAAO,MAAM,OAAO,WAAW,CAAC,KAAK,QAAQ,CAAC;IACzD,GAAG,OAAO,WAAW,CAAC,GAAG,QAAQ,CAAC,UACtC,MACA,2EAA2E;IAC3E,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,IAAI,IAAI,CAAC,QAAQ,IAAI,GAAG,QAAQ,MAAM,WAAW,EAAE,KAAK,CAAC,KAAK,GAAG,KAAK;AACtG","ignoreList":[0]}},
    {"offset": {"line": 2089, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/1/Documents/Pets/ambilux/frontend/node_modules/mailcomposer/lib/mailcomposer.js"],"sourcesContent":["'use strict';\n\nvar BuildMail = require('buildmail');\nvar libmime = require('libmime');\n\nmodule.exports = function (mail) {\n    return new MailComposer(mail).compile();\n};\n\nmodule.exports.MailComposer = MailComposer;\n\n/**\n * Creates the object for composing a BuildMail instance out from the mail options\n *\n * @constructor\n * @param {Object} mail Mail options\n */\nfunction MailComposer(mail) {\n    if (!(this instanceof MailComposer)) {\n        return new MailComposer(mail);\n    }\n\n    this.mail = mail || {};\n    this.message = false;\n}\n\n/**\n * Builds BuildMail instance\n */\nMailComposer.prototype.compile = function () {\n    this._alternatives = this.getAlternatives();\n    this._htmlNode = this._alternatives.filter(function (alternative) {\n        return /^text\\/html\\b/i.test(alternative.contentType);\n    }).pop();\n    this._attachments = this.getAttachments(!!this._htmlNode);\n\n    this._useRelated = !!(this._htmlNode && this._attachments.related.length);\n    this._useAlternative = this._alternatives.length > 1;\n    this._useMixed = this._attachments.attached.length > 1 || (this._alternatives.length && this._attachments.attached.length === 1);\n\n    // Compose MIME tree\n    if (this.mail.raw) {\n        this.message = new BuildMail().setRaw(this.mail.raw);\n    } else if (this._useMixed) {\n        this.message = this._createMixed();\n    } else if (this._useAlternative) {\n        this.message = this._createAlternative();\n    } else if (this._useRelated) {\n        this.message = this._createRelated();\n    } else {\n        this.message = this._createContentNode(false, [].concat(this._alternatives || []).concat(this._attachments.attached || []).shift() || {\n            contentType: 'text/plain',\n            content: ''\n        });\n    }\n\n    // Add custom headers\n    if (this.mail.headers) {\n        this.message.addHeader(this.mail.headers);\n    }\n\n    // Add headers to the root node, always overrides custom headers\n    [\n        'from',\n        'sender',\n        'to',\n        'cc',\n        'bcc',\n        'reply-to',\n        'in-reply-to',\n        'references',\n        'subject',\n        'message-id',\n        'date'\n    ].forEach(function (header) {\n        var key = header.replace(/-(\\w)/g, function (o, c) {\n            return c.toUpperCase();\n        });\n        if (this.mail[key]) {\n            this.message.setHeader(header, this.mail[key]);\n        }\n    }.bind(this));\n\n    // Sets custom envelope\n    if (this.mail.envelope) {\n        this.message.setEnvelope(this.mail.envelope);\n    }\n\n    // ensure Message-Id value\n    this.message.messageId();\n\n    return this.message;\n};\n\n/**\n * List all attachments. Resulting attachment objects can be used as input for BuildMail nodes\n *\n * @param {Boolean} findRelated If true separate related attachments from attached ones\n * @returns {Object} An object of arrays (`related` and `attached`)\n */\nMailComposer.prototype.getAttachments = function (findRelated) {\n    var attachments = [].concat(this.mail.attachments || []).map(function (attachment, i) {\n        var data;\n        var isMessageNode = /^message\\//i.test(attachment.contentType);\n\n        if (/^data:/i.test(attachment.path || attachment.href)) {\n            attachment = this._processDataUrl(attachment);\n        }\n\n        data = {\n            contentType: attachment.contentType ||\n                libmime.detectMimeType(attachment.filename || attachment.path || attachment.href || 'bin'),\n            contentDisposition: attachment.contentDisposition || (isMessageNode ? 'inline' : 'attachment'),\n            contentTransferEncoding: attachment.contentTransferEncoding\n        };\n\n        if (attachment.filename) {\n            data.filename = attachment.filename;\n        } else if (!isMessageNode && attachment.filename !== false) {\n            data.filename = (attachment.path || attachment.href || '').split('/').pop() || 'attachment-' + (i + 1);\n            if (data.filename.indexOf('.') < 0) {\n                data.filename += '.' + libmime.detectExtension(data.contentType);\n            }\n        }\n\n        if (/^https?:\\/\\//i.test(attachment.path)) {\n            attachment.href = attachment.path;\n            attachment.path = undefined;\n        }\n\n        if (attachment.cid) {\n            data.cid = attachment.cid;\n        }\n\n        if (attachment.raw) {\n            data.raw = attachment.raw;\n        } else if (attachment.path) {\n            data.content = {\n                path: attachment.path\n            };\n        } else if (attachment.href) {\n            data.content = {\n                href: attachment.href\n            };\n        } else {\n            data.content = attachment.content || '';\n        }\n\n        if (attachment.encoding) {\n            data.encoding = attachment.encoding;\n        }\n\n        if (attachment.headers) {\n            data.headers = attachment.headers;\n        }\n\n        return data;\n    }.bind(this));\n\n    if (!findRelated) {\n        return {\n            attached: attachments,\n            related: []\n        };\n    } else {\n        return {\n            attached: attachments.filter(function (attachment) {\n                return !attachment.cid;\n            }),\n            related: attachments.filter(function (attachment) {\n                return !!attachment.cid;\n            })\n        };\n    }\n};\n\n/**\n * List alternatives. Resulting objects can be used as input for BuildMail nodes\n *\n * @returns {Array} An array of alternative elements. Includes the `text` and `html` values as well\n */\nMailComposer.prototype.getAlternatives = function () {\n    var alternatives = [],\n        text, html, watchHtml, icalEvent;\n\n    if (this.mail.text) {\n        if (typeof this.mail.text === 'object' && (this.mail.text.content || this.mail.text.path || this.mail.text.href || this.mail.text.raw)) {\n            text = this.mail.text;\n        } else {\n            text = {\n                content: this.mail.text\n            };\n        }\n        text.contentType = 'text/plain' + (!text.encoding && libmime.isPlainText(text.content) ? '' : '; charset=utf-8');\n    }\n\n    if (this.mail.watchHtml) {\n        if (typeof this.mail.watchHtml === 'object' && (this.mail.watchHtml.content || this.mail.watchHtml.path || this.mail.watchHtml.href || this.mail.watchHtml.raw)) {\n            watchHtml = this.mail.watchHtml;\n        } else {\n            watchHtml = {\n                content: this.mail.watchHtml\n            };\n        }\n        watchHtml.contentType = 'text/watch-html' + (!watchHtml.encoding && libmime.isPlainText(watchHtml.content) ? '' : '; charset=utf-8');\n    }\n\n    if (this.mail.icalEvent) {\n        if (typeof this.mail.icalEvent === 'object' && (this.mail.icalEvent.content || this.mail.icalEvent.path || this.mail.icalEvent.href || this.mail.icalEvent.raw)) {\n            icalEvent = this.mail.icalEvent;\n        } else {\n            icalEvent = {\n                content: this.mail.icalEvent\n            };\n        }\n        icalEvent.contentType = 'text/calendar; charset=\"utf-8\"; method=' + (icalEvent.method || 'PUBLISH').toString().trim().toUpperCase();\n        if (!icalEvent.headers) {\n            icalEvent.headers = {};\n        }\n        icalEvent.headers['Content-Transfer-Encoding'] = 'base64';\n    }\n\n    if (this.mail.html) {\n        if (typeof this.mail.html === 'object' && (this.mail.html.content || this.mail.html.path || this.mail.html.href || this.mail.html.raw)) {\n            html = this.mail.html;\n        } else {\n            html = {\n                content: this.mail.html\n            };\n        }\n        html.contentType = 'text/html' + (!html.encoding && libmime.isPlainText(html.content) ? '' : '; charset=utf-8');\n    }\n\n    [].\n    concat(text || []).\n    concat(watchHtml || []).\n    concat(html || []).\n    concat(icalEvent || []).\n    concat(this.mail.alternatives || []).\n    forEach(function (alternative) {\n        var data;\n\n        if (/^data:/i.test(alternative.path || alternative.href)) {\n            alternative = this._processDataUrl(alternative);\n        }\n\n        data = {\n            contentType: alternative.contentType ||\n                libmime.detectMimeType(alternative.filename || alternative.path || alternative.href || 'txt'),\n            contentTransferEncoding: alternative.contentTransferEncoding\n        };\n\n        if (alternative.filename) {\n            data.filename = alternative.filename;\n        }\n\n        if (/^https?:\\/\\//i.test(alternative.path)) {\n            alternative.href = alternative.path;\n            alternative.path = undefined;\n        }\n\n        if (alternative.raw) {\n            data.raw = alternative.raw;\n        } else if (alternative.path) {\n            data.content = {\n                path: alternative.path\n            };\n        } else if (alternative.href) {\n            data.content = {\n                href: alternative.href\n            };\n        } else {\n            data.content = alternative.content || '';\n        }\n\n        if (alternative.encoding) {\n            data.encoding = alternative.encoding;\n        }\n\n        if (alternative.headers) {\n            data.headers = alternative.headers;\n        }\n\n        alternatives.push(data);\n    }.bind(this));\n\n    return alternatives;\n};\n\n/**\n * Builds multipart/mixed node. It should always contain different type of elements on the same level\n * eg. text + attachments\n *\n * @param {Object} parentNode Parent for this note. If it does not exist, a root node is created\n * @returns {Object} BuildMail node element\n */\nMailComposer.prototype._createMixed = function (parentNode) {\n    var node;\n\n    if (!parentNode) {\n        node = new BuildMail('multipart/mixed', {\n            baseBoundary: this.mail.baseBoundary,\n            textEncoding: this.mail.textEncoding,\n            boundaryPrefix: this.mail.boundaryPrefix,\n            disableUrlAccess: this.mail.disableUrlAccess,\n            disableFileAccess: this.mail.disableFileAccess\n        });\n    } else {\n        node = parentNode.createChild('multipart/mixed', {\n            disableUrlAccess: this.mail.disableUrlAccess,\n            disableFileAccess: this.mail.disableFileAccess\n        });\n    }\n\n    if (this._useAlternative) {\n        this._createAlternative(node);\n    } else if (this._useRelated) {\n        this._createRelated(node);\n    }\n\n    [].concat(!this._useAlternative && this._alternatives || []).concat(this._attachments.attached || []).forEach(function (element) {\n        // if the element is a html node from related subpart then ignore it\n        if (!this._useRelated || element !== this._htmlNode) {\n            this._createContentNode(node, element);\n        }\n    }.bind(this));\n\n    return node;\n};\n\n/**\n * Builds multipart/alternative node. It should always contain same type of elements on the same level\n * eg. text + html view of the same data\n *\n * @param {Object} parentNode Parent for this note. If it does not exist, a root node is created\n * @returns {Object} BuildMail node element\n */\nMailComposer.prototype._createAlternative = function (parentNode) {\n    var node;\n\n    if (!parentNode) {\n        node = new BuildMail('multipart/alternative', {\n            baseBoundary: this.mail.baseBoundary,\n            textEncoding: this.mail.textEncoding,\n            boundaryPrefix: this.mail.boundaryPrefix,\n            disableUrlAccess: this.mail.disableUrlAccess,\n            disableFileAccess: this.mail.disableFileAccess\n        });\n    } else {\n        node = parentNode.createChild('multipart/alternative', {\n            disableUrlAccess: this.mail.disableUrlAccess,\n            disableFileAccess: this.mail.disableFileAccess\n        });\n    }\n\n    this._alternatives.forEach(function (alternative) {\n        if (this._useRelated && this._htmlNode === alternative) {\n            this._createRelated(node);\n        } else {\n            this._createContentNode(node, alternative);\n        }\n    }.bind(this));\n\n    return node;\n};\n\n/**\n * Builds multipart/related node. It should always contain html node with related attachments\n *\n * @param {Object} parentNode Parent for this note. If it does not exist, a root node is created\n * @returns {Object} BuildMail node element\n */\nMailComposer.prototype._createRelated = function (parentNode) {\n    var node;\n\n    if (!parentNode) {\n        node = new BuildMail('multipart/related; type=\"text/html\"', {\n            baseBoundary: this.mail.baseBoundary,\n            textEncoding: this.mail.textEncoding,\n            boundaryPrefix: this.mail.boundaryPrefix,\n            disableUrlAccess: this.mail.disableUrlAccess,\n            disableFileAccess: this.mail.disableFileAccess\n        });\n    } else {\n        node = parentNode.createChild('multipart/related; type=\"text/html\"', {\n            disableUrlAccess: this.mail.disableUrlAccess,\n            disableFileAccess: this.mail.disableFileAccess\n        });\n    }\n\n    this._createContentNode(node, this._htmlNode);\n\n    this._attachments.related.forEach(function (alternative) {\n        this._createContentNode(node, alternative);\n    }.bind(this));\n\n    return node;\n};\n\n/**\n * Creates a regular node with contents\n *\n * @param {Object} parentNode Parent for this note. If it does not exist, a root node is created\n * @param {Object} element Node data\n * @returns {Object} BuildMail node element\n */\nMailComposer.prototype._createContentNode = function (parentNode, element) {\n    element = element || {};\n    element.content = element.content || '';\n\n    var node;\n    var encoding = (element.encoding || 'utf8')\n        .toString()\n        .toLowerCase()\n        .replace(/[-_\\s]/g, '');\n\n    if (!parentNode) {\n        node = new BuildMail(element.contentType, {\n            filename: element.filename,\n            baseBoundary: this.mail.baseBoundary,\n            textEncoding: this.mail.textEncoding,\n            boundaryPrefix: this.mail.boundaryPrefix,\n            disableUrlAccess: this.mail.disableUrlAccess,\n            disableFileAccess: this.mail.disableFileAccess\n        });\n    } else {\n        node = parentNode.createChild(element.contentType, {\n            filename: element.filename,\n            disableUrlAccess: this.mail.disableUrlAccess,\n            disableFileAccess: this.mail.disableFileAccess\n        });\n    }\n\n    // add custom headers\n    if (element.headers) {\n        node.addHeader(element.headers);\n    }\n\n    if (element.cid) {\n        node.setHeader('Content-Id', '<' + element.cid.replace(/[<>]/g, '') + '>');\n    }\n\n    if (element.contentTransferEncoding) {\n        node.setHeader('Content-Transfer-Encoding', element.contentTransferEncoding);\n    } else if (this.mail.encoding && /^text\\//i.test(element.contentType)) {\n        node.setHeader('Content-Transfer-Encoding', this.mail.encoding);\n    }\n\n    if (!/^text\\//i.test(element.contentType) || element.contentDisposition) {\n        node.setHeader('Content-Disposition', element.contentDisposition || (element.cid ? 'inline' : 'attachment'));\n    }\n\n    if (typeof element.content === 'string' && ['utf8', 'usascii', 'ascii'].indexOf(encoding) < 0) {\n        element.content = new Buffer(element.content, encoding);\n    }\n\n    // prefer pregenerated raw content\n    if (element.raw) {\n        node.setRaw(element.raw);\n    } else {\n        node.setContent(element.content);\n    }\n\n    return node;\n};\n\n/**\n * Parses data uri and converts it to a Buffer\n *\n * @param {Object} element Content element\n * @return {Object} Parsed element\n */\nMailComposer.prototype._processDataUrl = function (element) {\n    var parts = (element.path || element.href).match(/^data:((?:[^;]*;)*(?:[^,]*)),(.*)$/i);\n    if (!parts) {\n        return element;\n    }\n\n    element.content = /\\bbase64$/i.test(parts[1]) ? new Buffer(parts[2], 'base64') : new Buffer(decodeURIComponent(parts[2]));\n\n    if ('path' in element) {\n        element.path = false;\n    }\n\n    if ('href' in element) {\n        element.href = false;\n    }\n\n    parts[1].split(';').forEach(function (item) {\n        if (/^\\w+\\/[^\\/]+$/i.test(item)) {\n            element.contentType = element.contentType || item.toLowerCase();\n        }\n    });\n\n    return element;\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2504, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/1/Documents/Pets/ambilux/frontend/node_modules/dkim-signer/lib/dkim.js"],"sourcesContent":["'use strict';\n\nvar crypto = require('crypto');\nvar libmime = require('libmime');\nvar punycode = require('punycode');\n\n/**\n * @namespace DKIM Signer module\n * @name dkimsign\n */\nmodule.exports.DKIMSign = DKIMSign;\nmodule.exports.generateDKIMHeader = generateDKIMHeader;\nmodule.exports.sha256 = sha256;\n\n/**\n * <p>Sign an email with provided DKIM key, uses RSA-SHA256.</p>\n *\n * @memberOf dkimsign\n * @param {String} email Full e-mail source complete with headers and body to sign\n * @param {Object} options DKIM options\n * @param {String} [options.headerFieldNames='from:to:cc:subject'] Header fields to sign\n * @param {String} options.privateKey DKMI private key\n * @param {String} options.domainName Domain name to use for signing (ie: 'domain.com')\n * @param {String} options.keySelector Selector for the DKMI public key (ie. 'dkim' if you have set up a TXT record for 'dkim._domainkey.domain.com')\n *\n * @return {String} Signed DKIM-Signature header field for prepending\n */\nfunction DKIMSign(email, options) {\n    options = options || {};\n    email = (email || '').toString('utf-8');\n\n    var match = email.match(/^\\r?\\n|(?:\\r?\\n){2}/),\n        headers = match && email.substr(0, match.index) || '',\n        body = match && email.substr(match.index + match[0].length) || email;\n\n    // all listed fields from RFC4871 #5.5\n    // Some prociders do not like Message-Id, Date, Bounces-To and Return-Path\n    // fields in DKIM signed data so these are not automatcially included\n    var defaultFieldNames = 'From:Sender:Reply-To:Subject:To:' +\n        'Cc:MIME-Version:Content-Type:Content-Transfer-Encoding:Content-ID:' +\n        'Content-Description:Resent-Date:Resent-From:Resent-Sender:' +\n        'Resent-To:Resent-Cc:Resent-Message-ID:In-Reply-To:References:' +\n        'List-Id:List-Help:List-Unsubscribe:List-Subscribe:List-Post:' +\n        'List-Owner:List-Archive';\n\n    var dkim = generateDKIMHeader(options.domainName, options.keySelector, options.headerFieldNames || defaultFieldNames, headers, body),\n        canonicalizedHeaderData = DKIMCanonicalizer.relaxedHeaders(headers, options.headerFieldNames || defaultFieldNames),\n        canonicalizedDKIMHeader = DKIMCanonicalizer.relaxedHeaderLine(dkim),\n        signer, signature;\n\n    canonicalizedHeaderData.headers += canonicalizedDKIMHeader.key + ':' + canonicalizedDKIMHeader.value;\n\n    signer = crypto.createSign('RSA-SHA256');\n    signer.update(canonicalizedHeaderData.headers);\n    signature = signer.sign(options.privateKey, 'base64');\n\n    return dkim + signature.replace(/(^.{73}|.{75}(?!\\r?\\n|\\r))/g, '$&\\r\\n ').trim();\n}\n\n/**\n * <p>Generates a DKIM-Signature header field without the signature part ('b=' is empty)</p>\n *\n * @memberOf dkimsign\n * @private\n * @param {String} domainName Domain name to use for signing\n * @param {String} keySelector Selector for the DKMI public key\n * @param {String} headerFieldNames Header fields to sign\n * @param {String} headers E-mail headers\n * @param {String} body E-mail body\n *\n * @return {String} Mime folded DKIM-Signature string\n */\nfunction generateDKIMHeader(domainName, keySelector, headerFieldNames, headers, body) {\n    var canonicalizedBody = DKIMCanonicalizer.relaxedBody(body),\n        canonicalizedBodyHash = sha256(canonicalizedBody, 'base64'),\n        canonicalizedHeaderData = DKIMCanonicalizer.relaxedHeaders(headers, headerFieldNames),\n        dkim;\n\n    if (hasUTFChars(domainName)) {\n        domainName = punycode.toASCII(domainName);\n    }\n\n    dkim = [\n        'v=1',\n        'a=rsa-sha256',\n        'c=relaxed/relaxed',\n        'd=' + domainName,\n        'q=dns/txt',\n        's=' + keySelector,\n        'bh=' + canonicalizedBodyHash,\n        'h=' + canonicalizedHeaderData.fieldNames\n    ].join('; ');\n\n    return libmime.foldLines('DKIM-Signature: ' + dkim, 76) + ';\\r\\n b=';\n}\n\n/**\n * <p>DKIM canonicalization functions</p>\n *\n * @memberOf dkimsign\n * @private\n */\nvar DKIMCanonicalizer = {\n\n    /**\n     * <p>Simple body canonicalization by rfc4871 #3.4.3</p>\n     *\n     * @param {String} body E-mail body part\n     * @return {String} Canonicalized body\n     */\n    simpleBody: function(body) {\n        return (body || '').toString().replace(/(?:\\r?\\n|\\r)*$/, '\\r\\n');\n    },\n\n    /**\n     * <p>Relaxed body canonicalization by rfc4871 #3.4.4</p>\n     *\n     * @param {String} body E-mail body part\n     * @return {String} Canonicalized body\n     */\n    relaxedBody: function(body) {\n        return (body || '').toString().\n        replace(/\\r?\\n|\\r/g, '\\n').\n        split('\\n').\n        map(function(line) {\n            return line.replace(/\\s*$/, ''). //rtrim\n            replace(/\\s+/g, ' '); // only single spaces\n        }).\n        join('\\n').\n        replace(/\\n*$/, '\\n').\n        replace(/\\n/g, '\\r\\n');\n    },\n\n    /**\n     * <p>Relaxed headers canonicalization by rfc4871 #3.4.2 with filtering</p>\n     *\n     * @param {String} body E-mail headers part\n     * @return {String} Canonicalized headers\n     */\n    relaxedHeaders: function(headers, fieldNames) {\n        var includedFields = (fieldNames || '').toLowerCase().\n        split(':').\n        map(function(field) {\n            return field.trim();\n        }),\n        headerFields = {},\n        headerLines = headers.split(/\\r?\\n|\\r/),\n        line, i;\n\n        // join lines\n        for (i = headerLines.length - 1; i >= 0; i--) {\n            if (i && headerLines[i].match(/^\\s/)) {\n                headerLines[i - 1] += headerLines.splice(i, 1);\n            } else {\n                line = DKIMCanonicalizer.relaxedHeaderLine(headerLines[i]);\n\n                // on multiple values, include only the first one (the one in the bottom of the list)\n                if (includedFields.indexOf(line.key) >= 0 && !(line.key in headerFields)) {\n                    headerFields[line.key] = line.value;\n                }\n            }\n        }\n\n        headers = [];\n        for (i = includedFields.length - 1; i >= 0; i--) {\n            if (!headerFields[includedFields[i]]) {\n                includedFields.splice(i, 1);\n            } else {\n                headers.unshift(includedFields[i] + ':' + headerFields[includedFields[i]]);\n            }\n        }\n\n        return {\n            headers: headers.join('\\r\\n') + '\\r\\n',\n            fieldNames: includedFields.join(':')\n        };\n    },\n\n    /**\n     * <p>Relaxed header canonicalization for single header line</p>\n     *\n     * @param {String} line Single header line\n     * @return {String} Canonicalized header line\n     */\n    relaxedHeaderLine: function(line) {\n        var value = line.split(':'),\n            key = (value.shift() || '').toLowerCase().trim();\n\n        value = value.join(':').replace(/\\s+/g, ' ').trim();\n\n        return {\n            key: key,\n            value: value\n        };\n    }\n};\nmodule.exports.DKIMCanonicalizer = DKIMCanonicalizer;\n\n/**\n * <p>Generates a SHA-256 hash</p>\n *\n * @param {String} str String to be hashed\n * @param {String} [encoding='hex'] Output encoding\n * @return {String} SHA-256 hash in the selected output encoding\n */\nfunction sha256(str, encoding) {\n    var shasum = crypto.createHash('sha256');\n    shasum.update(str);\n    return shasum.digest(encoding || 'hex');\n}\n\n/**\n * <p>Detects if a string includes unicode symbols</p>\n *\n * @param {String} str String to be checked\n * @return {String} true, if string contains non-ascii symbols\n */\nfunction hasUTFChars(str) {\n    var rforeign = /[^\\u0000-\\u007f]/;\n    return !!rforeign.test(str);\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2665, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/1/Documents/Pets/ambilux/frontend/node_modules/sendmail/sendmail.js"],"sourcesContent":["const {createConnection} = require('net');\nconst {resolveMx} = require('dns');\nconst {DKIMSign} = require('dkim-signer');\nconst CRLF = '\\r\\n';\n\nfunction dummy () {}\nmodule.exports = function (options) {\n  options = options || {};\n  const logger = options.logger || (options.silent && {\n    debug: dummy,\n    info: dummy,\n    warn: dummy,\n    error: dummy\n  } || {\n    debug: console.log,\n    info: console.info,\n    warn: console.warn,\n    error: console.error\n  });\n  const dkimPrivateKey = (options.dkim || {}).privateKey;\n  const dkimKeySelector = (options.dkim || {}).keySelector || 'dkim';\n  const devPort = options.devPort || -1;\n  const devHost = options.devHost || 'localhost';\n  const smtpPort = options.smtpPort || 25\n  const smtpHost = options.smtpHost || -1\n  /*\n   *    Mail service return code Meaning\n   *   500   format error, command unrecognized (This error also includes command line too long)\n   *   501    parameter format error\n   *   502    command can not be achieved\n   *   503    Bad sequence of commands\n   *   504    command parameter can not be achieved\n   *   211    System status, or system help response\n   *   214    help\n   *   220    Services Ready\n   *   221    Service closing transmission channel\n   *   421   service is not ready to close the transmission channel (when it is necessary to close, this response may be in response to any command)\n   *   250    requested mail action completed\n   *   251    non-local users will be forwarded to\n   *   450   Mail the required operation 450 unfinished, mailbox unavailable (for example, mailbox busy)\n   *   550   Mail action not completed the required 550 mailbox unavailable (eg, mailbox not found, no access)\n   *   451    waiver operation; processing error\n   *   551    non-local user, please try\n   *   452    Less than 452 storage system, requiring action not taken\n   *   552    excess storage allocation requires action not taken\n   *   553    mailbox name is not available, that the requested operation is not performed (for example, mailbox format error)\n   *   354   . Start Mail input to. End\n   *   554     The operation failed\n   *   535    User authentication failed\n   *   235    user authentication is successful\n   *   334    waits for the user to enter authentication information\n   */\n\n  function getHost (email) {\n    const m = /[^@]+@([\\w\\d\\-\\.]+)/.exec(email);\n    return m && m[1];\n  }\n\n  function groupRecipients (recipients) {\n    let groups = {};\n    let host;\n    const recipients_length = recipients.length;\n    for (let i = 0; i < recipients_length; i++) {\n      host = getHost(recipients[i]);\n      (groups[host] || (groups[host] = [])).push(recipients[i])\n    }\n    return groups\n  }\n\n  /**\n   * connect to domain by Mx record\n   */\n  function connectMx (domain, callback) {\n    if (devPort === -1) { // not in development mode -> search the MX\n      resolveMx(domain, function (err, data) {\n        if (err) {\n          return callback(err)\n        }\n\n        data.sort(function (a, b) { return a.priority > b.priority });\n        logger.debug('mx resolved: ', data);\n\n        if (!data || data.length === 0) {\n          return callback(new Error('can not resolve Mx of <' + domain + '>'))\n        }\n        if(smtpHost !== -1)data.push({exchange:smtpHost})\n        function tryConnect (i) {\n          if (i >= data.length) return callback(new Error('can not connect to any SMTP server'));\n\n          const sock = createConnection(smtpPort, data[i].exchange);\n\n          sock.on('error', function (err) {\n            logger.error('Error on connectMx for: ', data[i], err);\n            tryConnect(++i)\n          });\n\n          sock.on('connect', function () {\n            logger.debug('MX connection created: ', data[i].exchange);\n            sock.removeAllListeners('error');\n            callback(null, sock)\n          })\n        }\n\n        tryConnect(0)\n      })\n    } else { // development mode -> connect to the specified devPort on devHost\n      const sock = createConnection(devPort, devHost);\n\n      sock.on('error', function (err) {\n        callback(new Error('Error on connectMx (development) for \"'+ devHost +':' + devPort + '\": ' + err))\n      });\n\n      sock.on('connect', function () {\n        logger.debug('MX (development) connection created: '+ devHost +':' + devPort);\n        sock.removeAllListeners('error');\n        callback(null, sock)\n      })\n    }\n  }\n\n  function sendToSMTP (domain, srcHost, from, recipients, body, cb) {\n    const callback = (typeof cb === 'function') ? cb : function () {};\n    connectMx(domain, function (err, sock) {\n      if (err) {\n        logger.error('error on connectMx', err.stack);\n        return callback(err)\n      }\n\n      function w (s) {\n        logger.debug('send ' + domain + '>' + s);\n        sock.write(s + CRLF)\n      }\n\n      sock.setEncoding('utf8');\n\n      sock.on('data', function (chunk) {\n        data += chunk;\n        parts = data.split(CRLF);\n        const parts_length = parts.length - 1;\n        for (let i = 0, len = parts_length; i < len; i++) {\n          onLine(parts[i])\n        }\n        data = parts[parts.length - 1]\n      });\n\n      sock.on('error', function (err) {\n        logger.error('fail to connect ' + domain)\n        callback(err)\n      });\n\n      let data = '';\n      let step = 0;\n      let loginStep = 0;\n      const queue = [];\n      const login = [];\n      let parts;\n      let cmd;\n\n        /*\n         if(mail.user && mail.pass){\n           queue.push('AUTH LOGIN');\n           login.push(new Buffer(mail.user).toString(\"base64\"));\n           login.push(new Buffer(mail.pass).toString(\"base64\"));\n         }\n         */\n\n      queue.push('MAIL FROM:<' + from + '>');\n      const recipients_length = recipients.length;\n      for (let i = 0; i < recipients_length; i++) {\n        queue.push('RCPT TO:<' + recipients[i] + '>')\n      }\n      queue.push('DATA');\n      queue.push('QUIT');\n      queue.push('');\n\n      function response (code, msg) {\n        switch (code) {\n          case 220:\n            //*   220   on server ready\n            //*   220   \n            if (/\\besmtp\\b/i.test(msg)) {\n              // TODO:  determin AUTH type; auth login, auth crm-md5, auth plain\n              cmd = 'EHLO'\n            } else {\n              cmd = 'HELO'\n            }\n            w(cmd + ' ' + srcHost);\n            break;\n\n          case 221: // bye\n          case 235: // verify ok\n          case 250: // operation OK\n          case 251: // foward\n            if (step === queue.length - 1) {\n              logger.info('OK:', code, msg);\n              callback(null, msg)\n            }\n            w(queue[step]);\n            step++;\n            break;\n\n          case 354: // start input end with . (dot)\n            logger.info('sending mail', body);\n            w(body);\n            w('');\n            w('.');\n            break;\n\n          case 334: // input login\n            w(login[loginStep]);\n            loginStep++;\n            break;\n\n          default:\n            if (code >= 400) {\n              logger.warn('SMTP responds error code', code);\n              callback(new Error('SMTP code:' + code + ' msg:' + msg));\n              sock.end();\n            }\n        }\n      }\n\n      let msg = '';\n\n      function onLine (line) {\n        logger.debug('recv ' + domain + '>' + line);\n\n        msg += (line + CRLF);\n\n        if (line[3] === ' ') {\n            // 250-information dash is not complete.\n            // 250 OK. space is complete.\n          let lineNumber = parseInt(line);\n          response(lineNumber, msg);\n          msg = '';\n        }\n      }\n    })\n  }\n\n  function getAddress (address) {\n    return address.replace(/^.+</, '').replace(/>\\s*$/, '').trim();\n  }\n\n  function getAddresses (addresses) {\n    const results = [];\n    if (!Array.isArray(addresses)) {\n      addresses = addresses.split(',');\n    }\n\n    const addresses_length = addresses.length;\n    for (let i = 0; i < addresses_length; i++) {\n      results.push(getAddress(addresses[i]));\n    }\n    return results\n  }\n\n  /**\n   * sendmail directly\n   *\n   * @param mail {object}\n   *             from\n   *             to\n   *             cc\n   *             bcc\n   *             replyTo\n   *             returnTo\n   *             subject\n   *             type         default 'text/plain', 'text/html'\n   *             charset      default 'utf-8'\n   *             encoding     default 'base64'\n   *             id           default timestamp+from\n   *             headers      object\n   *             content\n   *             attachments\n   *               [{\n   *                 type\n   *                 filename\n   *                 content\n   *               }].\n   *\n   * @param callback function(err, domain).\n   *\n   */\n  function sendmail (mail, callback) {\n    const mailcomposer = require('mailcomposer');\n    const mailMe = mailcomposer(mail);\n    let recipients = [];\n    let groups;\n    let srcHost;\n    if (mail.to) {\n      recipients = recipients.concat(getAddresses(mail.to))\n    }\n\n    if (mail.cc) {\n      recipients = recipients.concat(getAddresses(mail.cc))\n    }\n\n    if (mail.bcc) {\n      recipients = recipients.concat(getAddresses(mail.bcc))\n    }\n\n    groups = groupRecipients(recipients);\n\n    const from = getAddress(mail.from);\n    srcHost = getHost(from);\n\n    mailMe.build(function (err, message) {\n      if (err) {\n        logger.error('Error on creating message : ', err)\n        callback(err, null);\n        return\n      }\n      if (dkimPrivateKey) {\n        const signature = DKIMSign(message, {\n          privateKey: dkimPrivateKey,\n          keySelector: dkimKeySelector,\n          domainName: srcHost\n        });\n        message = signature + '\\r\\n' + message\n      }\n      for (let domain in groups) {\n        sendToSMTP(domain, srcHost, from, groups[domain], message, callback)\n      }\n    });\n  }\n  return sendmail\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}}]
}